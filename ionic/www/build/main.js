webpackJsonp([4],{175:function(n,l,t){"use strict";t.d(l,"a",function(){return e}),t.d(l,"b",function(){return i});t(5),t(53),t(20),t(66);var e=function(){function n(n,l,t,e,i,o,s,u,r,a){this.navCtrl=n,this.popover=l,this.mqtt=t,this.auth=e,this.platform=i,this.storage=o,this.alertCtrl=s,this.api=u,this.alert=r,this.push=a,this.devices=[],this.isLoading=!0}return n.prototype.ionViewCanEnter=function(){return this.auth.checkAuthentication()},n.prototype.ionViewWillEnter=function(){this.refresh()},n.prototype.ionViewDidLoad=function(){var n=this;this.platform.is("core")&&!this.push.isPermissionGranted()&&this.push.onDesktopReady().then(function(){n.push.requestPermission()})},n.prototype.refresh=function(){var n=this;this.isLoading=!0,this.api.getControllers().subscribe(function(l){l.success&&(console.log(l.result),n.devices=l.result),n.isLoading=!1})},n.prototype.goToDevicePage=function(n){this.navCtrl.push("DevicePage",{id:n})},n.prototype.showAddDeviceDialog=function(){var n=this;this.alertCtrl.create({title:"Add a device",subTitle:"<p>Please enter the device ID<p>",inputs:[{name:"id",placeholder:"controller ID e.g. 1078310"}],buttons:[{text:"Cancel",role:"cancel"},{text:"Add",handler:function(l){l.id&&n.addDevice(l.id)}}]}).present()},n.prototype.addDevice=function(n){var l=this;console.log(this.devices);0==this.devices.filter(function(l){return l.id==n}).length&&this.api.addController({id:n}).subscribe(function(n){n.success?l.refresh():l.alert.showToast(n.msg,3e3,!0)})},n.prototype.removeDevice=function(n){this.devices=this.devices.filter(function(l){return l.id!=n}),this.storage.set("devices",this.devices)},n.prototype.updateDevices=function(){},n.prototype.presentPopover=function(n){var l=this.popover.create(i);l.onDidDismiss(function(){}),l.present({ev:n})},n}(),i=function(){function n(n,l,t,e){this.viewCtrl=n,this.auth=l,this.app=t,this.mqtt=e}return n.prototype.close=function(n){this.viewCtrl.onDidDismiss(n),this.viewCtrl.dismiss()},n.prototype.goToSettingsPage=function(){var n=this;this.close(function(){return n.app.getRootNavs()[0].push("SettingsPage")})},n.prototype.logout=function(){var n=this;this.auth.logout().then(function(l){l||n.close(function(){n.mqtt.unsubscribeAllTopics(),n.app.getRootNavs()[0].setRoot("LoginPage")})})},n}()},176:function(n,l,t){"use strict";t.d(l,"a",function(){return i});t(5),t(20);var e=t(1),i=(t.n(e),function(){function n(n,l,t,e){this.navCtrl=n,this.navParams=l,this.events=t,this.mqtt=e,this.logs=[],this.autoScroll=!0,this.initialized=!1}return n.prototype.ionViewWillLeave=function(){clearTimeout(this.timeout)},n.prototype.ionViewWillEnter=function(){var n=this;setTimeout(function(){return n.content.scrollToBottom()})},n.prototype.ionViewDidLoad=function(){var n=this;console.log("Trying to subscribe..."),this.events.subscribe("subscription:stop",function(){console.log("unsubscribing mqtt..."),n.events.unsubscribe("subscription:mqtt"),console.log("unsubscribing event..."),n.events.unsubscribe("subscription:stop")}),this.events.subscribe("subscription:mqtt",function(l){l.timestamp=e(Date.now()).format("YYYY-MM-D h:mm:ss a"),n.logs.length>=1800&&(n.logs=[]),n.logs.push(l),n.timeout=setTimeout(function(){n.autoScroll&&n.initialized&&n.content.scrollToBottom()})}),this.content.ionScroll.subscribe(function(){n.content.isScrolling&&"up"==n.content.directionY?n.autoScroll=!1:!n.autoScroll&&n.content.scrollTop+n.content.contentHeight>=n.content.getContentDimensions().scrollHeight-20&&(n.autoScroll=!0)}),setTimeout(function(){return n.initialized=!0})},n}())},177:function(n,l,t){"use strict";t.d(l,"a",function(){return i});t(5),t(20);var e=t(1),i=(t.n(e),function(){function n(n,l,t,e,i){this.navCtrl=n,this.navParams=l,this.mqtt=t,this.events=e,this.zone=i,this.sensors=[],this.device={id:"",status:0,lastSeen:"",lastReboot:"",fv:"",ip:"",intervals:{PUB_INTERVAL:"10000",PACKET_INTERVAL:"50"}},this.ctrlID="",this.forceShow=!1,this.pingStatus=!1,this.pingInProgress=!1,this.pingTimeout=1e4,this.scrolling="down",this.refreshInProgress=!0}return n.prototype.ionViewDidLoad=function(){var n=this;this.ctrlID=this.navParams.get("id"),this.device.id=this.ctrlID,this.resetSensors(),this.events.subscribe("subscription:stop",function(){console.log("unsubscribing mqtt..."),n.events.unsubscribe("subscription:mqtt"),console.log("unsubscribing event..."),n.events.unsubscribe("subscription:stop")}),this.events.subscribe("subscription:mqtt",this.processPayload.bind(this)),this.mqtt.ready().then(function(){n.refresh()}),this.content.ionScrollEnd.subscribe(function(){n.zone.run(function(){n.scrolling=n.content.scrollTop+n.content.contentHeight>=n.content.getContentDimensions().scrollHeight-20?"up":"down"})})},n.prototype.processPayload=function(n){if(n.destinationName!=this.ctrlID+"/IN/CHECK"&&n.destinationName!=this.ctrlID+"/IN/CTRL/REFRESH"&&n.destinationName!=this.ctrlID+"/REBOOT"){if(n.destinationName==this.ctrlID+"/OUT/CHECK")return this.pingInProgress=!1,clearTimeout(this.pingSetTimeout),this.pingSetTimeout=null,this.device.status=1,void(this.device.lastSeen=e(Date.now()).format("YYYY-MM-D h:mm:ss a"));if(n.destinationName!=this.ctrlID+"/IN/RFID/LED1"){if(n.destinationName==this.ctrlID+"/OUT/INTERVAL"){l=JSON.parse(n.payloadString);this.device.fv=l.CTRL_FIRM,this.device.ip=l.IP,this.device.intervals.PACKET_INTERVAL=l.PACKET_INTERVAL,this.device.intervals.PUB_INTERVAL=l.PUB_INTERVAL,this.device.lastReboot=e(Date.now()).format("YYYY-MM-D h:mm:ss a")}else if(n.destinationName==this.ctrlID+"/OUT/RFID/STATUS"){this.refreshInProgress=!1;l=JSON.parse(n.payloadString);(t=parseInt(l.POS))<31&&(this.sensors[t].fv=l.SNSR_FIRM,this.sensors[t].weight=l.WEIGHT,this.sensors[t].proximity=l.PROXIMITY,this.sensors[t].button=l.BUTTON,this.sensors[t].currentRFID=l.RFID,this.sensors[t].type=l.WEIGHT?"Weight":l.PROXIMITY?"Proximity":"Button"),this.sensors[t].isOnline=!0}else if(n.destinationName==this.ctrlID+"/OUT/RFID/WEIGHT"){l=JSON.parse(n.payloadString);console.log(l);(t=parseInt(l.POS))<31&&(this.sensors[t].weight=l.WEIGHT,this.sensors[t].currentRFID=l.RFID),this.sensors[t].isOnline=!0}else if(n.destinationName==this.ctrlID+"/OUT/RFID/PRX1"){l=JSON.parse(n.payloadString);console.log(l);(t=parseInt(l.POS))<31&&(this.sensors[t].proximity=l.PROXIMITY),this.sensors[t].isOnline=!0}else if(n.destinationName==this.ctrlID+"/OUT/RFID/BTN1"){l=JSON.parse(n.payloadString);console.log(l);(t=parseInt(l.POS))<31&&(this.sensors[t].button=l.BUTTON),this.sensors[t].isOnline=!0}this.device.lastSeen=e(Date.now()).format("YYYY-MM-D h:mm:ss a"),this.device.status=1}else{var l=JSON.parse(n.payloadString);console.log(l);var t;(t=parseInt(l.POS))<31&&(this.sensors[t].button="ON"==l.LED?"1":"0")}}},n.prototype.resetSensors=function(){this.sensors=[];for(var n=0;n<31;n++)this.sensors.push({pos:n,isOnline:!1,fv:"",type:"",weight:"",button:"",proximity:"",led:"",currentRFID:"",previousRFID:""})},n.prototype.ping=function(){var n=this;this.pingInProgress=!0,this.pingSetTimeout=setTimeout(function(){n.pingInProgress=!1,n.pingSetTimeout=null},this.pingTimeout),this.mqtt.publish(this.ctrlID+"/IN/CHECK",JSON.stringify({CTRL_ID:this.ctrlID}),1)},n.prototype.refresh=function(){this.refreshInProgress=!0,this.resetSensors(),this.mqtt.publish(this.ctrlID+"/IN/CTRL/REFRESH",JSON.stringify({CTRL_ID:this.ctrlID}),1)},n.prototype.reboot=function(){this.mqtt.publish(this.ctrlID+"/REBOOT",'"REBOOT"',1)},n.prototype.setIntervals=function(){this.mqtt.publish(this.ctrlID+"/IN/INTERVAL",JSON.stringify(this.device.intervals),1)},n.prototype.overrideLED=function(n,l){this.mqtt.publish(this.ctrlID+"/IN/RFID/LED1",JSON.stringify({CTRL_ID:this.ctrlID,RFID:n.currentRFID,POS:n.pos.toString(),LED:l}),1)},n.prototype.scroll=function(){"up"==this.scrolling?this.content.scrollToTop():this.content.scrollToBottom()},n}())},191:function(n,l){function t(n){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+n+"'.")})}t.keys=function(){return[]},t.resolve=t,n.exports=t,t.id=191},215:function(n,l,t){var e={"../pages/device/device.module.ngfactory":[528,3],"../pages/home/home.module.ngfactory":[529,2],"../pages/login/login.module.ngfactory":[530,1],"../pages/settings/settings.module.ngfactory":[531,0]};function i(n){var l=e[n];return l?t.e(l[1]).then(function(){return t(l[0])}):Promise.reject(new Error("Cannot find module '"+n+"'."))}i.keys=function(){return Object.keys(e)},i.id=215,n.exports=i},30:function(n,l,t){"use strict";t.d(l,"a",function(){return s});t(5),t(20),t(53);var e=t(439),i=(t.n(e),t(13)),o=(t.n(i),t(440)),s=(t.n(o),function(){function n(n,l,t,e){var i=this;this.storage=n,this.platform=l,this.http=t,this.events=e,this.mqttConnectionStatus=!1,this.mqttSubscribedTopics=[],this.mqttUrl="",this.mqttPort=8e3,this.mqttOptions={timeout:10,keepAliveInterval:10},this.mqttRegisteredBrokerList=[],this.callbacks=[],this.noReconnect=!1,console.log("[mqtt] Initiating MQTT..."),this._readyPromise=new Promise(function(n){i._readyResolve=n}),this.storage.get("mqttBrokers").then(function(n){n&&n.length>0&&(i.mqttRegisteredBrokerList=n,console.log(i.mqttRegisteredBrokerList),i.startBroker())})}return n.prototype.ready=function(){return this._readyPromise},n.prototype.triggerReady=function(){this._readyResolve()},n.prototype.prepareReady=function(){this.mqttConnectionStatus?this.triggerReady():this.events.subscribe("mqtt:ready",this.completed.bind(this))},n.prototype.completed=function(){this.events.unsubscribe("mqtt:ready"),this.triggerReady()},n.prototype.reset=function(){this.mqttRegisteredBrokerList=[],this.callbacks=[],this.disconnectTimeout&&(clearTimeout(this.disconnectTimeout),this.disconnectTimeout=null),this.failureTimeout&&(clearTimeout(this.failureTimeout),this.failureTimeout=null),this.mqttUrl="",this.disconnectBroker()},n.prototype.startBroker=function(){var n=this;console.log("[mqtt] start broker"),this.disconnectBroker();var l=this.getDefaultBroker();if(console.log("Default",l),l.url){this.mqttUrl=l.url,this.mqttPort=l.port?parseInt(l.port):8e3,this.mqttOptions=l.options?l.options:this.mqttOptions,this.failureTimeout&&clearTimeout(this.failureTimeout),this.disconnectTimeout&&clearTimeout(this.disconnectTimeout);var t=function(){setTimeout(function(){n.isOnline()?(n.noReconnect=!1,n.connect()):t()},2e3)};t()}},n.prototype.callback=function(n){for(var l in this.callbacks)this.callbacks[l](n)},n.prototype.registerCallback=function(n,l){this.callbacks[n]=l},n.prototype.unregisterCallback=function(n){this.callbacks=this.callbacks.filter(function(l,t){return t!=n})},n.prototype.publish=function(n,l,t){var i=new e.Paho.MQTT.Message(l);i.destinationName=n,i.qos=t,this.mqttClient.send(i)},n.prototype.subscribeTopic=function(n,l){-1==this.mqttSubscribedTopics.indexOf(n)&&(this.mqttSubscribedTopics.push(n),this.mqttClient.subscribe(n,{qos:l})),console.log(this.mqttSubscribedTopics)},n.prototype.unsubscribeTopic=function(n){this.mqttClient.unsubscribe(n,{}),this.mqttSubscribedTopics=this.mqttSubscribedTopics.filter(function(l){return l!=n}),console.log(this.mqttSubscribedTopics)},n.prototype.unsubscribeTopics=function(n){var l=this;n.forEach(function(n){l.unsubscribeTopic(n)})},n.prototype.unsubscribeAllTopics=function(){var n=this;this.mqttSubscribedTopics.forEach(function(l){n.unsubscribeTopic(l)}),this.mqttSubscribedTopics=[]},n.prototype.onConnected=function(){var n=this;this.events.publish("mqtt:ready"),this.mqttConnectionStatus=!0,console.log("[mqtt] MQTT connected"),this.mqttSubscribedTopics.forEach(function(l){n.mqttClient.subscribe(l,{qos:1})})},n.prototype.onLostConnection=function(){var n=this;if(console.log("[mqtt] MQTT disconnected"),this.mqttConnectionStatus=!1,!this.noReconnect){var l=function(){n.disconnectTimeout=setTimeout(function(){n.isOnline()?n.connect():l()},0)};l()}},n.prototype.onFailure=function(n){var l=this;if(console.log("[mqtt] MQTT Failure: ",n),this.mqttConnectionStatus=!1,!this.noReconnect){var t=function(){l.failureTimeout=setTimeout(function(){l.isOnline()?l.connect():t()},3e3)};t()}},n.prototype.connect=function(){console.log("[mqtt] Connecting..."),this.mqttClient=new e.Paho.MQTT.Client(this.mqttUrl,this.mqttPort,"clientId_"+Math.random().toString(16).substring(2,8)),this.mqttClient.onConnectionLost=this.onLostConnection.bind(this),this.mqttClient.onMessageArrived=this.callback.bind(this);var n=JSON.parse(JSON.stringify(this.mqttOptions));n.onSuccess=this.onConnected.bind(this),n.onFailure=this.onFailure.bind(this),this.mqttClient.connect(n)},n.prototype.getAllSubscribedTopics=function(){return i.Observable.of(this.mqttSubscribedTopics)},n.prototype.getRegisteredBrokerList=function(){return i.Observable.of(this.mqttRegisteredBrokerList)},n.prototype.addBroker=function(n,l,t){var e=this;return new Promise(function(i){e.mqttRegisteredBrokerList.filter(function(l){return l.url==n}).length>0?i():(e.mqttRegisteredBrokerList.push({url:n,port:l||8e3,options:t||e.mqttOptions,default:!1}),e.storage.set("mqttBrokers",e.mqttRegisteredBrokerList).then(function(){return i()}))})},n.prototype.removeBroker=function(n){var l=this;return new Promise(function(t){n==l.mqttUrl&&l.disconnectBroker(),l.mqttRegisteredBrokerList=l.mqttRegisteredBrokerList.filter(function(l){return l.url!=n}),l.storage.set("mqttBrokers",l.mqttRegisteredBrokerList).then(function(){return t()})})},n.prototype.disconnectBroker=function(){console.log("[mqtt] Disconnect from current broker"),this.mqttClient&&(console.log("[mqtt] Got client, disconnect first..."),this.noReconnect=!0,this.isOnline()&&this.mqttClient.isConnected()&&(this.mqttClient.disconnect(),this.unsubscribeAllTopics()),this.mqttClient=null,this.mqttSubscribedTopics=[])},n.prototype.setDefaultBroker=function(n){return this.mqttRegisteredBrokerList.forEach(function(l){l.default=l.url==n}),this.storage.set("mqttBrokers",this.mqttRegisteredBrokerList)},n.prototype.getDefaultBroker=function(){var n=this.mqttRegisteredBrokerList.filter(function(n){return n.default});return n.length>0?n[0]:{}},n.prototype.isOnline=function(){return this.platform.is("cordova")?navigator.connection.type!==Connection.NONE:navigator.onLine},n}())},393:function(n,l,t){"use strict";t.d(l,"a",function(){return e}),t.d(l,"b",function(){return i}),t.d(l,"c",function(){return o});var e=function(){return function(){this.host="https://iot.cytron.io/toshiba-tec-project",this.endpoint=this.host+"/api"}}(),i={UNAUTHORIZED_MESSAGE:"Seems like we have problem identifying your account. Please login again.",OFFLINE_MESSAGE:"Seems like there is no Internet connection. Please check your Internet connection.",NOT_FOUND:"Seems like we have problem connecting to server. Please try again later.",SERVER_ERR:"Seems like there is server problem. Please consult our technical support for more details."},o={apiKey:"AIzaSyCyLL3j363FRmxxa05m8pBoYXl-_0wuBAo",authDomain:"nbc-ionic2-push-notification.firebaseapp.com",databaseURL:"https://nbc-ionic2-push-notification.firebaseio.com",projectId:"nbc-ionic2-push-notification",storageBucket:"nbc-ionic2-push-notification.appspot.com",messagingSenderId:"620756868871"}},409:function(n,l,t){"use strict";t.d(l,"a",function(){return ln}),t.d(l,"b",function(){return on});var e=t(0),i=t(139),o=t(65),s=t(3),u=t(35),r=t(24),a=t(515),c=t(93),h=t(40),d=t(6),p=t(83),g=t(18),f=t(17),m=t(39),_=t(59),b=t(32),v=t(92),y=t(115),j=t(7),k=t(405),T=t(41),I=t(9),S=t(22),P=t(406),q=t(84),D=t(57),R=t(16),C=t(157),Y=t(114),w=t(25),O=t(12),Z=t(33),L=t(8),z=t(95),N=t(175),x=t(102),A=t(30),E=t(48),U=t(138),F=t(89),B=t(69),M=t(78),H=t(66),V=e.X({encapsulation:2,styles:[],data:{}});function $(n){return e._21(0,[(n()(),e.Z(0,0,null,null,1,"span",[["class","subheader"]],null,null,null,null,null)),(n()(),e._19(-1,null,["\n          No registered MQTT Brokers\n        "]))],null,null)}function G(n){return e._21(0,[(n()(),e.Z(0,0,null,null,1,"span",[["class","subheader"]],null,null,null,null,null)),(n()(),e._19(-1,null,["\n          Please choose a MQTT broker\n        "]))],null,null)}function J(n){return e._21(0,[(n()(),e.Z(0,0,null,null,1,"span",[["class","subheader"]],null,null,null,null,null)),(n()(),e._19(1,null,["\n          ","\n        "]))],null,function(n,l){n(l,1,0,l.component.mqtt.mqttConnectionStatus?"MQTT Connected":"Connecting to MQTT...")})}function W(n){return e._21(0,[(n()(),e.Z(0,0,null,null,1,"ion-spinner",[["item-end",""]],[[2,"spinner-paused",null]],null,null,i.b,i.a)),e.Y(1,114688,null,0,o.a,[s.a,e.j,e.z],null,null)],function(n,l){n(l,1,0)},function(n,l){n(l,0,0,e._13(l,1)._paused)})}function K(n){return e._21(0,[(n()(),e.Z(0,0,null,null,2,"button",[["clear",""],["ion-button",""],["item-end",""]],null,[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.refresh()&&e}return e},u.b,u.a)),e.Y(1,1097728,[[3,4]],0,r.a,[[8,""],s.a,e.j,e.z],{clear:[0,"clear"]},null),(n()(),e._19(-1,0,["\n        Refresh\n      "]))],function(n,l){n(l,1,0,"")},null)}function Q(n){return e._21(0,[(n()(),e.Z(0,0,null,null,33,"ion-item-sliding",[],null,null,null,a.b,a.a)),e.Y(1,49152,null,2,c.a,[[2,h.a],d.a,e.z,e.j,e.u],null,null),e._17(335544320,5,{item:0}),e._17(603979776,6,{_itemOptions:1}),(n()(),e._19(-1,null,["\n      "])),(n()(),e.Z(5,0,null,0,16,"button",[["class","item item-block"],["detail-none",""],["ion-item",""]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.goToDevicePage(n.context.$implicit)&&e}return e},p.b,p.a)),e.Y(6,1097728,[[5,4]],3,g.a,[f.a,s.a,e.j,e.z,[2,m.a]],null,null),e._17(335544320,7,{contentLabel:0}),e._17(603979776,8,{_buttons:1}),e._17(603979776,9,{_icons:1}),e.Y(10,16384,null,0,_.a,[],null,null),(n()(),e._19(-1,2,["\n        "])),(n()(),e.Z(12,0,null,0,1,"ion-icon",[["item-start",""],["large",""],["name","md-desktop"],["padding-left",""],["role","img"]],[[2,"hide",null]],null,null,null,null)),e.Y(13,147456,[[9,4]],0,b.a,[s.a,e.j,e.z],{name:[0,"name"]},null),(n()(),e._19(-1,2,["\n        "])),(n()(),e.Z(15,0,null,2,4,"h2",[],null,null,null,null,null)),(n()(),e._19(-1,null,["\n          "])),(n()(),e.Z(17,0,null,null,1,"b",[],null,null,null,null,null)),(n()(),e._19(18,null,["",""])),(n()(),e._19(-1,null,["\n        "])),(n()(),e._19(-1,2,["\n        "])),(n()(),e._19(-1,2,["\n      "])),(n()(),e._19(-1,null,["\n      "])),(n()(),e.Z(23,0,null,1,9,"ion-item-options",[["side","left"]],null,null,null,null,null)),e.Y(24,16384,[[6,4]],0,v.a,[e.j,d.a],{side:[0,"side"]},null),(n()(),e._19(-1,null,["\n        "])),(n()(),e.Z(26,0,null,null,5,"button",[["clear",""],["icon-only",""],["ion-button",""]],null,[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.removeDevice(n.context.$implicit.id)&&e}return e},u.b,u.a)),e.Y(27,1097728,null,0,r.a,[[8,""],s.a,e.j,e.z],{clear:[0,"clear"]},null),(n()(),e._19(-1,0,["\n          "])),(n()(),e.Z(29,0,null,0,1,"ion-icon",[["color","danger"],["name","remove-circle"],["role","img"]],[[2,"hide",null]],null,null,null,null)),e.Y(30,147456,null,0,b.a,[s.a,e.j,e.z],{color:[0,"color"],name:[1,"name"]},null),(n()(),e._19(-1,0,["\n        "])),(n()(),e._19(-1,null,["\n      "])),(n()(),e._19(-1,null,["\n    "]))],function(n,l){n(l,13,0,"md-desktop");n(l,24,0,"left");n(l,27,0,"");n(l,30,0,"danger","remove-circle")},function(n,l){n(l,5,0,!l.component.mqtt.mqttConnectionStatus);n(l,12,0,e._13(l,13)._hidden);n(l,18,0,l.context.$implicit);n(l,29,0,e._13(l,30)._hidden)})}function X(n){return e._21(0,[(n()(),e.Z(0,0,null,null,8,"div",[["margin-top",""],["text-center",""]],null,null,null,null,null)),(n()(),e._19(-1,null,["\n      "])),(n()(),e.Z(2,0,null,null,5,"button",[["ion-button",""]],null,[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.showAddDeviceDialog()&&e}return e},u.b,u.a)),e.Y(3,1097728,null,0,r.a,[[8,""],s.a,e.j,e.z],null,null),(n()(),e._19(-1,0,["\n        "])),(n()(),e.Z(5,0,null,0,1,"ion-icon",[["margin-right",""],["name","add"],["role","img"]],[[2,"hide",null]],null,null,null,null)),e.Y(6,147456,null,0,b.a,[s.a,e.j,e.z],{name:[0,"name"]},null),(n()(),e._19(-1,0,["\n        Add a device\n      "])),(n()(),e._19(-1,null,["\n    "]))],function(n,l){n(l,6,0,"add")},function(n,l){n(l,5,0,e._13(l,6)._hidden)})}function nn(n){return e._21(0,[(n()(),e.Z(0,0,null,null,39,"ion-header",[],null,null,null,null,null)),e.Y(1,16384,null,0,y.a,[s.a,e.j,e.z,[2,j.a]],null,null),(n()(),e._19(-1,null,["\n  "])),(n()(),e.Z(3,0,null,null,35,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,k.b,k.a)),e.Y(4,49152,null,0,T.a,[I.a,[2,j.a],[2,S.a],s.a,e.j,e.z],null,null),(n()(),e._19(-1,3,["\n    "])),(n()(),e.Z(6,0,null,3,19,"ion-title",[],null,null,null,P.b,P.a)),e.Y(7,49152,null,0,q.a,[s.a,e.j,e.z,[2,D.a],[2,T.a]],null,null),(n()(),e._19(-1,0,["\n      "])),(n()(),e.Z(9,0,null,0,0,"img",[["src","assets/icon/icon.png"]],null,null,null,null,null)),(n()(),e._19(-1,0,["\n      "])),(n()(),e.Z(11,0,null,0,13,"div",[["class","custom-title"]],null,null,null,null,null)),(n()(),e._19(-1,null,["\n        "])),(n()(),e.Z(13,0,null,null,1,"span",[["class","header"]],null,null,null,null,null)),(n()(),e._19(-1,null,["Toshiba Tec Project"])),(n()(),e._19(-1,null,["\n        "])),(n()(),e.U(16777216,null,null,1,null,$)),e.Y(17,16384,null,0,R.j,[e.I,e.F],{ngIf:[0,"ngIf"]},null),(n()(),e._19(-1,null,["\n        "])),(n()(),e.U(16777216,null,null,1,null,G)),e.Y(20,16384,null,0,R.j,[e.I,e.F],{ngIf:[0,"ngIf"]},null),(n()(),e._19(-1,null,["\n        "])),(n()(),e.U(16777216,null,null,1,null,J)),e.Y(23,16384,null,0,R.j,[e.I,e.F],{ngIf:[0,"ngIf"]},null),(n()(),e._19(-1,null,["\n      "])),(n()(),e._19(-1,0,["\n    "])),(n()(),e._19(-1,3,["\n    "])),(n()(),e.Z(27,0,null,2,10,"ion-buttons",[["end",""]],null,null,null,null,null)),e.Y(28,16384,null,1,C.a,[s.a,e.j,e.z,[2,D.a],[2,T.a]],null,null),e._17(603979776,1,{_buttons:1}),(n()(),e._19(-1,null,["\n      "])),(n()(),e.Z(31,0,null,null,5,"button",[["icon-only",""],["ion-button",""]],null,[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.presentPopover(t)&&e}return e},u.b,u.a)),e.Y(32,1097728,[[1,4]],0,r.a,[[8,""],s.a,e.j,e.z],null,null),(n()(),e._19(-1,0,["\n        "])),(n()(),e.Z(34,0,null,0,1,"ion-icon",[["name","more"],["role","img"]],[[2,"hide",null]],null,null,null,null)),e.Y(35,147456,null,0,b.a,[s.a,e.j,e.z],{name:[0,"name"]},null),(n()(),e._19(-1,0,["\n      "])),(n()(),e._19(-1,null,["\n    "])),(n()(),e._19(-1,3,["\n  "])),(n()(),e._19(-1,null,["\n"])),(n()(),e._19(-1,null,["\n\n"])),(n()(),e.Z(41,0,null,null,26,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,Y.b,Y.a)),e.Y(42,4374528,null,0,w.a,[s.a,d.a,O.a,e.j,e.z,I.a,Z.a,e.u,[2,j.a],[2,S.a]],null,null),(n()(),e._19(-1,1,["\n  "])),(n()(),e.Z(44,0,null,1,22,"ion-list",[],null,null,null,null,null)),e.Y(45,16384,null,0,h.a,[s.a,e.j,e.z,d.a,L.l,O.a],null,null),(n()(),e._19(-1,null,["\n    "])),(n()(),e.Z(47,0,null,null,12,"ion-list-header",[["class","item"],["color","light"]],null,null,null,p.b,p.a)),e.Y(48,1097728,null,3,g.a,[f.a,s.a,e.j,e.z,[2,m.a]],{color:[0,"color"]},null),e._17(335544320,2,{contentLabel:0}),e._17(603979776,3,{_buttons:1}),e._17(603979776,4,{_icons:1}),e.Y(52,16384,null,0,z.a,[s.a,e.z,e.j,[8,null]],{color:[0,"color"]},null),(n()(),e._19(-1,2,["\n      Main Controller List\n      "])),(n()(),e.U(16777216,null,4,1,null,W)),e.Y(55,16384,null,0,R.j,[e.I,e.F],{ngIf:[0,"ngIf"]},null),(n()(),e._19(-1,2,["\n      "])),(n()(),e.U(16777216,null,4,1,null,K)),e.Y(58,16384,null,0,R.j,[e.I,e.F],{ngIf:[0,"ngIf"]},null),(n()(),e._19(-1,2,["\n    "])),(n()(),e._19(-1,null,["\n    "])),(n()(),e.U(16777216,null,null,1,null,Q)),e.Y(62,802816,null,0,R.i,[e.I,e.F,e.p],{ngForOf:[0,"ngForOf"]},null),(n()(),e._19(-1,null,["\n    "])),(n()(),e.U(16777216,null,null,1,null,X)),e.Y(65,16384,null,0,R.j,[e.I,e.F],{ngIf:[0,"ngIf"]},null),(n()(),e._19(-1,null,["\n  "])),(n()(),e._19(-1,1,["\n"]))],function(n,l){var t=l.component;n(l,17,0,0==t.mqtt.mqttRegisteredBrokerList.length);n(l,20,0,t.mqtt.mqttRegisteredBrokerList.length>0&&!t.mqtt.mqttUrl);n(l,23,0,t.mqtt.mqttRegisteredBrokerList.length>0&&t.mqtt.mqttUrl);n(l,35,0,"more");n(l,48,0,"light");n(l,52,0,"light");n(l,55,0,t.isLoading);n(l,58,0,!t.isLoading);n(l,62,0,t.devices);n(l,65,0,!t.isLoading)},function(n,l){n(l,3,0,e._13(l,4)._hidden,e._13(l,4)._sbPadding);n(l,34,0,e._13(l,35)._hidden);n(l,41,0,e._13(l,42).statusbarPadding,e._13(l,42)._hasRefresher)})}var ln=e.V("page-home",N.a,function(n){return e._21(0,[(n()(),e.Z(0,0,null,null,1,"page-home",[],null,null,null,nn,V)),e.Y(1,49152,null,0,N.a,[S.a,x.a,A.a,E.a,d.a,U.a,F.a,B.a,M.a,H.a],null,null)],null,null)},{},{},[]),tn=e.X({encapsulation:2,styles:[],data:{}});function en(n){return e._21(0,[(n()(),e._19(-1,null,["\n    "])),(n()(),e.Z(1,0,null,null,24,"ion-list",[],null,null,null,null,null)),e.Y(2,16384,null,0,h.a,[s.a,e.j,e.z,d.a,L.l,O.a],null,null),(n()(),e._19(-1,null,["\n    "])),(n()(),e.Z(4,0,null,null,9,"button",[["class","item item-block"],["detail-none",""],["ion-item",""]],null,[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.goToSettingsPage()&&e}return e},p.b,p.a)),e.Y(5,1097728,null,3,g.a,[f.a,s.a,e.j,e.z,[2,m.a]],null,null),e._17(335544320,1,{contentLabel:0}),e._17(603979776,2,{_buttons:1}),e._17(603979776,3,{_icons:1}),e.Y(9,16384,null,0,_.a,[],null,null),(n()(),e._19(-1,2,["\n      "])),(n()(),e.Z(11,0,null,2,1,"ion-icon",[["margin-right",""],["name","build"],["role","img"]],[[2,"hide",null]],null,null,null,null)),e.Y(12,147456,[[3,4]],0,b.a,[s.a,e.j,e.z],{name:[0,"name"]},null),(n()(),e._19(-1,2,["\n      Settings\n    "])),(n()(),e._19(-1,null,["\n      "])),(n()(),e.Z(15,0,null,null,9,"button",[["class","item item-block"],["detail-none",""],["ion-item",""]],null,[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.logout()&&e}return e},p.b,p.a)),e.Y(16,1097728,null,3,g.a,[f.a,s.a,e.j,e.z,[2,m.a]],null,null),e._17(335544320,4,{contentLabel:0}),e._17(603979776,5,{_buttons:1}),e._17(603979776,6,{_icons:1}),e.Y(20,16384,null,0,_.a,[],null,null),(n()(),e._19(-1,2,["\n        "])),(n()(),e.Z(22,0,null,2,1,"ion-icon",[["margin-right",""],["name","exit"],["role","img"]],[[2,"hide",null]],null,null,null,null)),e.Y(23,147456,[[6,4]],0,b.a,[s.a,e.j,e.z],{name:[0,"name"]},null),(n()(),e._19(-1,2,["\n        Logout\n      "])),(n()(),e._19(-1,null,["\n    "])),(n()(),e._19(-1,null,["\n  "]))],function(n,l){n(l,12,0,"build");n(l,23,0,"exit")},function(n,l){n(l,11,0,e._13(l,12)._hidden);n(l,22,0,e._13(l,23)._hidden)})}var on=e.V("ng-component",N.b,function(n){return e._21(0,[(n()(),e.Z(0,0,null,null,1,"ng-component",[],null,null,null,en,tn)),e.Y(1,49152,null,0,N.b,[j.a,E.a,I.a,A.a],null,null)],null,null)},{},{},[])},410:function(n,l,t){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var e=t(42),i=t(0),o=(t(5),t(69)),s=t(70),u=(t(20),t(111)),r=t(112),a=t(53),c=t(393),h=t(30),d=t(66),p=t(48),g=t(359),f=(t(390),function(){return function(n,l,t,e,i,o,s){var u=this;this.auth=e,this.mqtt=i,this.events=o,this.push=s,this.rootPage="",n.ready().then(function(){u.mqtt.prepareReady(),n.is("core")&&g.initializeApp(c.c),n.is("mobile")&&l.styleDefault(),n.is("mobile")?u.push.init():u.push.initDesktop(),u.auth.checkAuthentication().then(function(l){l?(u.events.publish("user:login"),u.rootPage="HomePage"):u.rootPage="LoginPage",n.is("mobile")&&t.hide()})})}}()),m=(t(175),t(161)),_=t(162),b=t(78),v=(t(408),t(176)),y=t(177),j=function(){return function(){}}(),k=t(71),T=t(396),I=t(397),S=t(398),P=t(399),q=t(400),D=t(401),R=t(402),C=t(403),Y=t(404),w=t(527),O=t(49),Z=t(76),L=t(7),z=t(22),N=t(9),x=t(3),A=t(6),E=t(8),U=t(34),F=t(23),B=t(12),M=t(60),H=i.X({encapsulation:2,styles:[],data:{}});function V(n){return i._21(0,[(n()(),i.Z(0,0,null,null,2,"ion-nav",[],null,null,null,w.b,w.a)),i._16(6144,null,O.a,null,[Z.a]),i.Y(2,4374528,null,0,Z.a,[[2,L.a],[2,z.a],N.a,x.a,A.a,i.j,i.u,i.z,i.i,E.l,U.a,[2,F.a],B.a,i.k],{root:[0,"root"]},null),(n()(),i._19(-1,null,["\n"]))],function(n,l){n(l,2,0,l.component.rootPage)},null)}var $=i.V("ng-component",f,function(n){return i._21(0,[(n()(),i.Z(0,0,null,null,1,"ng-component",[],null,null,null,V,H)),i.Y(1,49152,null,0,f,[A.a,r.a,u.a,p.a,h.a,M.a,d.a],null,null)],null,null)},{},{},[]),G=t(409),J=t(394),W=t(75),K=t(395),Q=t(52),X=t(32),nn=t(83),ln=t(18),tn=t(17),en=t(39),on=t(59),sn=t(114),un=t(25),rn=t(33),an=t(16),cn=t(40),hn=t(14),dn=i.X({encapsulation:2,styles:[],data:{}});function pn(n){return i._21(0,[(n()(),i.Z(0,0,null,null,11,"ion-fab",[["bottom",""],["right",""]],null,null,null,J.b,J.a)),i.Y(1,1228800,null,2,W.a,[A.a],null,null),i._17(335544320,2,{_mainButton:0}),i._17(603979776,3,{_fabLists:1}),(n()(),i._19(-1,0,["\n    "])),(n()(),i.Z(5,0,null,0,5,"button",[["color","secondary"],["ion-fab",""]],null,[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==i._13(n.parent,3).scrollToBottom()&&e}return e},K.b,K.a)),i.Y(6,49152,[[2,4]],0,Q.a,[x.a,i.j,i.z],{color:[0,"color"]},null),(n()(),i._19(-1,0,["\n      "])),(n()(),i.Z(8,0,null,0,1,"ion-icon",[["name","ios-arrow-down"],["role","img"]],[[2,"hide",null]],null,null,null,null)),i.Y(9,147456,null,0,X.a,[x.a,i.j,i.z],{name:[0,"name"]},null),(n()(),i._19(-1,0,["\n    "])),(n()(),i._19(-1,0,["\n  "]))],function(n,l){n(l,6,0,"secondary");n(l,9,0,"ios-arrow-down")},function(n,l){n(l,8,0,i._13(l,9)._hidden)})}function gn(n){return i._21(0,[(n()(),i.Z(0,0,null,null,18,"ion-item",[["class","item item-block"],["color","lighter-custom"]],null,null,null,nn.b,nn.a)),i.Y(1,1097728,null,3,ln.a,[tn.a,x.a,i.j,i.z,[2,en.a]],{color:[0,"color"]},null),i._17(335544320,4,{contentLabel:0}),i._17(603979776,5,{_buttons:1}),i._17(603979776,6,{_icons:1}),i.Y(5,16384,null,0,on.a,[],null,null),(n()(),i._19(-1,2,["\n      "])),(n()(),i.Z(7,0,null,2,1,"small",[],null,null,null,null,null)),(n()(),i._19(8,null,["",""])),(n()(),i._19(-1,2,["\n      "])),(n()(),i.Z(10,0,null,2,4,"h2",[],null,null,null,null,null)),(n()(),i._19(-1,null,["\n        "])),(n()(),i.Z(12,0,null,null,1,"b",[],null,null,null,null,null)),(n()(),i._19(13,null,["",""])),(n()(),i._19(-1,null,["\n      "])),(n()(),i._19(-1,2,["\n      "])),(n()(),i.Z(16,0,null,2,1,"p",[["text-wrap",""]],null,null,null,null,null)),(n()(),i._19(17,null,["",""])),(n()(),i._19(-1,2,["\n    "]))],function(n,l){n(l,1,0,"lighter-custom")},function(n,l){n(l,8,0,l.context.$implicit.timestamp);n(l,13,0,l.context.$implicit.destinationName);n(l,17,0,l.context.$implicit.payloadString)})}function fn(n){return i._21(0,[i._17(402653184,1,{content:0}),(n()(),i._19(-1,null,["\n\n"])),(n()(),i.Z(2,0,null,null,12,"ion-content",[["padding-bottom",""]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,sn.b,sn.a)),i.Y(3,4374528,[[1,4],["content",4]],0,un.a,[x.a,A.a,B.a,i.j,i.z,N.a,rn.a,i.u,[2,L.a],[2,z.a]],null,null),(n()(),i._19(-1,1,["\n  "])),(n()(),i.U(16777216,null,0,1,null,pn)),i.Y(6,16384,null,0,an.j,[i.I,i.F],{ngIf:[0,"ngIf"]},null),(n()(),i._19(-1,1,["\n  "])),(n()(),i.Z(8,0,null,1,5,"ion-list",[],null,null,null,null,null)),i.Y(9,16384,null,0,cn.a,[x.a,i.j,i.z,A.a,E.l,B.a],null,null),(n()(),i._19(-1,null,["\n    "])),(n()(),i.U(16777216,null,null,1,null,gn)),i.Y(12,802816,null,0,an.i,[i.I,i.F,i.p],{ngForOf:[0,"ngForOf"]},null),(n()(),i._19(-1,null,["\n  "])),(n()(),i._19(-1,1,["\n"]))],function(n,l){var t=l.component;n(l,6,0,t.logs.length>0);n(l,12,0,t.logs)},function(n,l){n(l,2,0,i._13(l,3).statusbarPadding,i._13(l,3)._hasRefresher)})}var mn=i.V("page-device-console",v.a,function(n){return i._21(0,[(n()(),i.Z(0,0,null,null,1,"page-device-console",[],null,null,null,fn,dn)),i.Y(1,49152,null,0,v.a,[z.a,hn.a,M.a,h.a],null,null)],null,null)},{},{},[]),_n=t(139),bn=t(65),vn=t(116),yn=t(147),jn=t(117),kn=t(131),Tn=t(133),In=t(132),Sn=t(118),Pn=t(35),qn=t(24),Dn=t(119),Rn=t(120),Cn=t(58),Yn=t(407),wn=t(21),On=t(81),Zn=i.X({encapsulation:2,styles:[],data:{}});function Ln(n){return i._21(0,[(n()(),i.Z(0,0,null,null,1,"ion-spinner",[["item-end",""]],[[2,"spinner-paused",null]],null,null,_n.b,_n.a)),i.Y(1,114688,null,0,bn.a,[x.a,i.j,i.z],null,null)],function(n,l){n(l,1,0)},function(n,l){n(l,0,0,i._13(l,1)._paused)})}function zn(n){return i._21(0,[(n()(),i.Z(0,0,null,null,30,"ion-item",[["class","item item-block"],["no-lines",""],["padding",""]],null,null,null,nn.b,nn.a)),i.Y(1,1097728,null,3,ln.a,[tn.a,x.a,i.j,i.z,[2,en.a]],null,null),i._17(335544320,4,{contentLabel:0}),i._17(603979776,5,{_buttons:1}),i._17(603979776,6,{_icons:1}),i.Y(5,16384,null,0,on.a,[],null,null),(n()(),i._19(-1,2,["\n    "])),(n()(),i._19(-1,2,["\n    "])),(n()(),i.Z(8,0,null,2,1,"h1",[["class","title"]],null,null,null,null,null)),(n()(),i._19(9,null,["",""])),(n()(),i._19(-1,2,["\n    "])),(n()(),i.Z(11,0,null,2,2,"ion-badge",[],null,null,null,null,null)),i.Y(12,16384,null,0,vn.a,[x.a,i.j,i.z],{color:[0,"color"]},null),(n()(),i._19(13,null,["",""])),(n()(),i._19(-1,2,["\n    "])),(n()(),i.Z(15,0,null,2,1,"p",[],null,null,null,null,null)),(n()(),i._19(16,null,["Firmware Version: ",""])),(n()(),i._19(-1,2,["\n    "])),(n()(),i.Z(18,0,null,2,1,"p",[],null,null,null,null,null)),(n()(),i._19(19,null,["IP Address: ",""])),(n()(),i._19(-1,2,["\n    "])),(n()(),i.Z(21,0,null,2,1,"p",[],null,null,null,null,null)),(n()(),i._19(22,null,["Last Seen: ",""])),(n()(),i._19(-1,2,["\n    "])),(n()(),i.Z(24,0,null,2,1,"p",[],null,null,null,null,null)),(n()(),i._19(25,null,["Last Reboot: ",""])),(n()(),i._19(-1,2,["\n    "])),(n()(),i._19(-1,2,["\n    "])),(n()(),i.U(16777216,null,4,1,null,Ln)),i.Y(29,16384,null,0,an.j,[i.I,i.F],{ngIf:[0,"ngIf"]},null),(n()(),i._19(-1,2,["\n  "]))],function(n,l){var t=l.component;n(l,12,0,t.device.status?"secondary":"danger");n(l,29,0,t.pingInProgress)},function(n,l){var t=l.component;n(l,9,0,t.device.id);n(l,13,0,t.device.status?"Online":"Offline");n(l,16,0,t.device.fv?t.device.fv:"--");n(l,19,0,t.device.ip?t.device.ip:"--");n(l,22,0,t.device.lastSeen?t.device.lastSeen:"--");n(l,25,0,t.device.lastReboot?t.device.lastReboot:"--")})}function Nn(n){return i._21(0,[(n()(),i.Z(0,0,null,null,2,"ion-note",[["float-right",""]],null,null,null,null,null)),i.Y(1,16384,null,0,yn.a,[x.a,i.j,i.z],{color:[0,"color"]},null),(n()(),i._19(2,null,["",""]))],function(n,l){n(l,1,0,l.parent.context.$implicit.isOnline?"secondary":"danger")},function(n,l){n(l,2,0,l.parent.context.$implicit.isOnline?"Online":"Offline")})}function xn(n){return i._21(0,[(n()(),i.Z(0,0,null,null,70,"ion-col",[["class","sensors col"],["col-12",""],["col-lg-3",""],["col-md-4",""],["col-sm-6",""]],null,null,null,null,null)),i.Y(1,278528,null,0,an.h,[i.p,i.q,i.j,i.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i._15(2,{hidden:0}),i.Y(3,16384,null,0,jn.a,[],null,null),(n()(),i._19(-1,null,["\n        "])),(n()(),i.Z(5,0,null,null,64,"ion-card",[],null,null,null,null,null)),i.Y(6,278528,null,0,an.h,[i.p,i.q,i.j,i.A],{ngClass:[0,"ngClass"]},null),i._15(7,{dim:0}),i.Y(8,16384,null,0,kn.a,[x.a,i.j,i.z],null,null),(n()(),i._19(-1,null,["\n          "])),(n()(),i.Z(10,0,null,null,11,"ion-card-header",[],null,null,null,null,null)),i.Y(11,16384,null,0,Tn.a,[x.a,i.j,i.z],null,null),(n()(),i._19(-1,null,["\n            "])),(n()(),i.Z(13,0,null,null,1,"b",[],null,null,null,null,null)),(n()(),i._19(14,null,["Sensor ",""])),(n()(),i._19(-1,null,["\n            "])),(n()(),i.U(16777216,null,null,1,null,Nn)),i.Y(17,16384,null,0,an.j,[i.I,i.F],{ngIf:[0,"ngIf"]},null),(n()(),i._19(-1,null,["\n            "])),(n()(),i.Z(19,0,null,null,1,"p",[["style","color:#777"]],null,null,null,null,null)),(n()(),i._19(20,null,["",""])),(n()(),i._19(-1,null,["\n          "])),(n()(),i._19(-1,null,["\n          "])),(n()(),i.Z(23,0,null,null,17,"ion-card-content",[],null,null,null,null,null)),i.Y(24,16384,null,0,In.a,[x.a,i.j,i.z],null,null),(n()(),i._19(-1,null,["\n            "])),(n()(),i.Z(26,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),i._19(27,null,["Type: ",""])),(n()(),i._19(-1,null,["\n            "])),(n()(),i.Z(29,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),i._19(30,null,["RFID: ",""])),(n()(),i._19(-1,null,["\n            "])),(n()(),i.Z(32,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),i._19(33,null,["Weight: ",""])),(n()(),i._19(-1,null,["\n            "])),(n()(),i.Z(35,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),i._19(36,null,["Button: ",""])),(n()(),i._19(-1,null,["\n            "])),(n()(),i.Z(38,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),i._19(39,null,["Proximity: ",""])),(n()(),i._19(-1,null,["\n          "])),(n()(),i._19(-1,null,["\n          "])),(n()(),i.Z(42,0,null,null,26,"ion-row",[["class","row"]],null,null,null,null,null)),i.Y(43,16384,null,0,Sn.a,[],null,null),(n()(),i._19(-1,null,["\n            "])),(n()(),i.Z(45,0,null,null,6,"ion-col",[["class","col"],["text-center",""]],null,null,null,null,null)),i.Y(46,16384,null,0,jn.a,[],null,null),(n()(),i._19(-1,null,["\n              "])),(n()(),i.Z(48,0,null,null,2,"button",[["clear",""],["ion-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.overrideLED(n.context.$implicit,"ON")&&e}return e},Pn.b,Pn.a)),i.Y(49,1097728,null,0,qn.a,[[8,""],x.a,i.j,i.z],{clear:[0,"clear"]},null),(n()(),i._19(-1,0,["\n                On\n              "])),(n()(),i._19(-1,null,["\n            "])),(n()(),i._19(-1,null,["\n            "])),(n()(),i.Z(53,0,null,null,6,"ion-col",[["class","col"],["text-center",""]],null,null,null,null,null)),i.Y(54,16384,null,0,jn.a,[],null,null),(n()(),i._19(-1,null,["\n              "])),(n()(),i.Z(56,0,null,null,2,"button",[["clear",""],["ion-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.overrideLED(n.context.$implicit,"OFF")&&e}return e},Pn.b,Pn.a)),i.Y(57,1097728,null,0,qn.a,[[8,""],x.a,i.j,i.z],{clear:[0,"clear"]},null),(n()(),i._19(-1,0,["\n                Off\n              "])),(n()(),i._19(-1,null,["\n            "])),(n()(),i._19(-1,null,["\n            "])),(n()(),i.Z(61,0,null,null,6,"ion-col",[["class","col"],["text-center",""]],null,null,null,null,null)),i.Y(62,16384,null,0,jn.a,[],null,null),(n()(),i._19(-1,null,["\n              "])),(n()(),i.Z(64,0,null,null,2,"button",[["ion-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.overrideLED(n.context.$implicit,"BLINK")&&e}return e},Pn.b,Pn.a)),i.Y(65,1097728,null,0,qn.a,[[8,""],x.a,i.j,i.z],null,null),(n()(),i._19(-1,0,["\n                Blink\n              "])),(n()(),i._19(-1,null,["\n            "])),(n()(),i._19(-1,null,["\n          "])),(n()(),i._19(-1,null,["\n        "])),(n()(),i._19(-1,null,["\n      "]))],function(n,l){var t=l.component;n(l,1,0,"sensors",n(l,2,0,!l.context.$implicit.isOnline&&!t.forceShow));n(l,6,0,n(l,7,0,!l.context.$implicit.isOnline));n(l,17,0,!t.refreshInProgress);n(l,49,0,"");n(l,57,0,"")},function(n,l){n(l,14,0,l.context.$implicit.pos);n(l,20,0,l.context.$implicit.fv?"v"+l.context.$implicit.fv:"--");n(l,27,0,l.context.$implicit.type?l.context.$implicit.type:"--");n(l,30,0,l.context.$implicit.currentRFID?l.context.$implicit.currentRFID:"--");n(l,33,0,l.context.$implicit.weight?l.context.$implicit.weight:"--");n(l,36,0,l.context.$implicit.button?l.context.$implicit.button:"--");n(l,39,0,l.context.$implicit.proximity?l.context.$implicit.proximity:"--");n(l,48,0,!l.context.$implicit.isOnline);n(l,56,0,!l.context.$implicit.isOnline);n(l,64,0,!l.context.$implicit.isOnline)})}function An(n){return i._21(0,[i._17(402653184,1,{content:0}),(n()(),i._19(-1,null,["\n\n"])),(n()(),i.Z(2,0,null,null,129,"ion-content",[["padding-bottom",""]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,sn.b,sn.a)),i.Y(3,4374528,[[1,4],["info",4]],0,un.a,[x.a,A.a,B.a,i.j,i.z,N.a,rn.a,i.u,[2,L.a],[2,z.a]],null,null),(n()(),i._19(-1,1,["\n  "])),(n()(),i.Z(5,0,null,0,11,"ion-fab",[["bottom",""],["right",""]],null,null,null,J.b,J.a)),i.Y(6,1228800,null,2,W.a,[A.a],null,null),i._17(335544320,2,{_mainButton:0}),i._17(603979776,3,{_fabLists:1}),(n()(),i._19(-1,0,["\n    "])),(n()(),i.Z(10,0,null,0,5,"button",[["color","secondary"],["ion-fab",""]],null,[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.scroll()&&e}return e},K.b,K.a)),i.Y(11,49152,[[2,4]],0,Q.a,[x.a,i.j,i.z],{color:[0,"color"]},null),(n()(),i._19(-1,0,["\n      "])),(n()(),i.Z(13,0,null,0,1,"ion-icon",[["role","img"]],[[2,"hide",null]],null,null,null,null)),i.Y(14,147456,null,0,X.a,[x.a,i.j,i.z],{name:[0,"name"]},null),(n()(),i._19(-1,0,["\n    "])),(n()(),i._19(-1,0,["\n  "])),(n()(),i._19(-1,1,["\n  "])),(n()(),i.U(16777216,null,1,1,null,zn)),i.Y(19,16384,null,0,an.j,[i.I,i.F],{ngIf:[0,"ngIf"]},null),(n()(),i._19(-1,1,["\n  "])),(n()(),i.Z(21,0,null,1,26,"ion-row",[["class","row"]],null,null,null,null,null)),i.Y(22,16384,null,0,Sn.a,[],null,null),(n()(),i._19(-1,null,["\n    "])),(n()(),i.Z(24,0,null,null,6,"ion-col",[["class","col"],["text-center",""]],null,null,null,null,null)),i.Y(25,16384,null,0,jn.a,[],null,null),(n()(),i._19(-1,null,["\n      "])),(n()(),i.Z(27,0,null,null,2,"button",[["clear",""],["ion-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.ping()&&e}return e},Pn.b,Pn.a)),i.Y(28,1097728,null,0,qn.a,[[8,""],x.a,i.j,i.z],{clear:[0,"clear"]},null),(n()(),i._19(-1,0,["\n        Ping\n      "])),(n()(),i._19(-1,null,["\n    "])),(n()(),i._19(-1,null,["\n    "])),(n()(),i.Z(32,0,null,null,6,"ion-col",[["class","col"],["text-center",""]],null,null,null,null,null)),i.Y(33,16384,null,0,jn.a,[],null,null),(n()(),i._19(-1,null,["\n      "])),(n()(),i.Z(35,0,null,null,2,"button",[["clear",""],["ion-button",""]],null,[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.refresh()&&e}return e},Pn.b,Pn.a)),i.Y(36,1097728,null,0,qn.a,[[8,""],x.a,i.j,i.z],{clear:[0,"clear"]},null),(n()(),i._19(-1,0,["\n        Refresh\n      "])),(n()(),i._19(-1,null,["\n    "])),(n()(),i._19(-1,null,["\n    "])),(n()(),i.Z(40,0,null,null,6,"ion-col",[["class","col"],["text-center",""]],null,null,null,null,null)),i.Y(41,16384,null,0,jn.a,[],null,null),(n()(),i._19(-1,null,["\n      "])),(n()(),i.Z(43,0,null,null,2,"button",[["color","danger"],["ion-button",""]],null,[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.reboot()&&e}return e},Pn.b,Pn.a)),i.Y(44,1097728,null,0,qn.a,[[8,""],x.a,i.j,i.z],{color:[0,"color"]},null),(n()(),i._19(-1,0,["\n        Reboot\n      "])),(n()(),i._19(-1,null,["\n    "])),(n()(),i._19(-1,null,["\n  "])),(n()(),i._19(-1,1,["\n  "])),(n()(),i.Z(49,0,null,1,81,"ion-list",[],null,null,null,null,null)),i.Y(50,16384,null,0,cn.a,[x.a,i.j,i.z,A.a,E.l,B.a],null,null),(n()(),i._19(-1,null,["\n    "])),(n()(),i.Z(52,0,null,null,10,"ion-item-divider",[["class","item item-divider"],["color","light"]],null,null,null,nn.b,nn.a)),i.Y(53,1097728,null,3,ln.a,[tn.a,x.a,i.j,i.z,[2,en.a]],{color:[0,"color"]},null),i._17(335544320,7,{contentLabel:0}),i._17(603979776,8,{_buttons:1}),i._17(603979776,9,{_icons:1}),i.Y(57,16384,null,0,Dn.a,[x.a,i.j,i.z],{color:[0,"color"]},null),(n()(),i._19(-1,2,["Sensors\n      "])),(n()(),i.Z(59,0,null,4,2,"button",[["clear",""],["ion-button",""],["item-end",""]],null,[[null,"click"]],function(n,l,t){var e=!0,i=n.component;if("click"===l){e=!1!=(i.forceShow=!i.forceShow)&&e}return e},Pn.b,Pn.a)),i.Y(60,1097728,[[8,4]],0,qn.a,[[8,""],x.a,i.j,i.z],{clear:[0,"clear"]},null),(n()(),i._19(61,0,["\n        ","\n      "])),(n()(),i._19(-1,2,["\n    "])),(n()(),i._19(-1,null,["\n    "])),(n()(),i.Z(64,0,null,null,5,"ion-row",[["class","row"]],null,null,null,null,null)),i.Y(65,16384,null,0,Sn.a,[],null,null),(n()(),i._19(-1,null,["\n      "])),(n()(),i.U(16777216,null,null,1,null,xn)),i.Y(68,802816,null,0,an.i,[i.I,i.F,i.p],{ngForOf:[0,"ngForOf"]},null),(n()(),i._19(-1,null,["\n    "])),(n()(),i._19(-1,null,["\n    "])),(n()(),i._19(-1,null,["\n    "])),(n()(),i.Z(72,0,null,null,6,"ion-item-divider",[["class","item item-divider"],["color","light"]],null,null,null,nn.b,nn.a)),i.Y(73,1097728,null,3,ln.a,[tn.a,x.a,i.j,i.z,[2,en.a]],{color:[0,"color"]},null),i._17(335544320,10,{contentLabel:0}),i._17(603979776,11,{_buttons:1}),i._17(603979776,12,{_icons:1}),i.Y(77,16384,null,0,Dn.a,[x.a,i.j,i.z],{color:[0,"color"]},null),(n()(),i._19(-1,2,["Set Interval"])),(n()(),i._19(-1,null,["\n    "])),(n()(),i.Z(80,0,null,null,48,"ion-item-group",[["padding-bottom",""]],null,null,null,null,null)),i.Y(81,16384,null,0,Rn.a,[],null,null),(n()(),i._19(-1,null,["\n      "])),(n()(),i.Z(83,0,null,null,1,"p",[["padding-left",""],["style","font-size: 1.6rem"]],null,null,null,null,null)),(n()(),i._19(-1,null,["Set the packet delay and MQTT publish interval for the device.\n      "])),(n()(),i._19(-1,null,["\n      "])),(n()(),i.Z(86,0,null,null,16,"ion-item",[["class","item item-block"]],null,null,null,nn.b,nn.a)),i.Y(87,1097728,null,3,ln.a,[tn.a,x.a,i.j,i.z,[2,en.a]],null,null),i._17(335544320,13,{contentLabel:0}),i._17(603979776,14,{_buttons:1}),i._17(603979776,15,{_icons:1}),i.Y(91,16384,null,0,on.a,[],null,null),(n()(),i._19(-1,2,["\n        "])),(n()(),i.Z(93,0,null,1,2,"ion-label",[["stacked",""]],null,null,null,null,null)),i.Y(94,16384,[[13,4]],0,Cn.a,[x.a,i.j,i.z,[8,null],[8,""],[8,null],[8,null]],null,null),(n()(),i._19(-1,null,["Packet Delay (ms)"])),(n()(),i._19(-1,2,["\n        "])),(n()(),i.Z(97,0,null,3,4,"ion-input",[["placeholder","e.g 50 (50ms)"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,l,t){var e=!0;if("ngModelChange"===l){e=!1!==(n.component.device.intervals.PACKET_INTERVAL=t)&&e}return e},Yn.b,Yn.a)),i.Y(98,671744,null,0,wn.l,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),i._16(2048,null,wn.i,null,[wn.l]),i.Y(100,16384,null,0,wn.j,[wn.i],null,null),i.Y(101,5423104,null,0,On.a,[x.a,A.a,tn.a,N.a,i.j,i.z,[2,un.a],[2,ln.a],[2,wn.i],B.a],{type:[0,"type"],placeholder:[1,"placeholder"]},null),(n()(),i._19(-1,2,["\n      "])),(n()(),i._19(-1,null,["\n      "])),(n()(),i.Z(104,0,null,null,16,"ion-item",[["class","item item-block"]],null,null,null,nn.b,nn.a)),i.Y(105,1097728,null,3,ln.a,[tn.a,x.a,i.j,i.z,[2,en.a]],null,null),i._17(335544320,16,{contentLabel:0}),i._17(603979776,17,{_buttons:1}),i._17(603979776,18,{_icons:1}),i.Y(109,16384,null,0,on.a,[],null,null),(n()(),i._19(-1,2,["\n        "])),(n()(),i.Z(111,0,null,1,2,"ion-label",[["stacked",""]],null,null,null,null,null)),i.Y(112,16384,[[16,4]],0,Cn.a,[x.a,i.j,i.z,[8,null],[8,""],[8,null],[8,null]],null,null),(n()(),i._19(-1,null,["Publish Interval (ms)"])),(n()(),i._19(-1,2,["\n        "])),(n()(),i.Z(115,0,null,3,4,"ion-input",[["placeholder","e.g 10000 (10 seconds)"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,l,t){var e=!0;if("ngModelChange"===l){e=!1!==(n.component.device.intervals.PUB_INTERVAL=t)&&e}return e},Yn.b,Yn.a)),i.Y(116,671744,null,0,wn.l,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),i._16(2048,null,wn.i,null,[wn.l]),i.Y(118,16384,null,0,wn.j,[wn.i],null,null),i.Y(119,5423104,null,0,On.a,[x.a,A.a,tn.a,N.a,i.j,i.z,[2,un.a],[2,ln.a],[2,wn.i],B.a],{type:[0,"type"],placeholder:[1,"placeholder"]},null),(n()(),i._19(-1,2,["\n      "])),(n()(),i._19(-1,null,["\n      "])),(n()(),i.Z(122,0,null,null,5,"div",[["margin-top",""],["text-center",""]],null,null,null,null,null)),(n()(),i._19(-1,null,["\n        "])),(n()(),i.Z(124,0,null,null,2,"button",[["class","btn-special"],["color","custom"],["ion-button",""],["large",""]],null,[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.setIntervals()&&e}return e},Pn.b,Pn.a)),i.Y(125,1097728,null,0,qn.a,[[8,""],x.a,i.j,i.z],{color:[0,"color"],large:[1,"large"]},null),(n()(),i._19(-1,0,["\n          Set\n        "])),(n()(),i._19(-1,null,["\n      "])),(n()(),i._19(-1,null,["\n    "])),(n()(),i._19(-1,null,["\n    "])),(n()(),i._19(-1,null,["\n  "])),(n()(),i._19(-1,1,["\n"]))],function(n,l){var t=l.component;n(l,11,0,"secondary");n(l,14,0,"ios-arrow-"+t.scrolling);n(l,19,0,t.device.id);n(l,28,0,"");n(l,36,0,"");n(l,44,0,"danger");n(l,53,0,"light");n(l,57,0,"light");n(l,60,0,"");n(l,68,0,t.sensors);n(l,73,0,"light");n(l,77,0,"light");n(l,98,0,t.device.intervals.PACKET_INTERVAL);n(l,101,0,"text","e.g 50 (50ms)");n(l,116,0,t.device.intervals.PUB_INTERVAL);n(l,119,0,"text","e.g 10000 (10 seconds)");n(l,125,0,"custom","")},function(n,l){var t=l.component;n(l,2,0,i._13(l,3).statusbarPadding,i._13(l,3)._hasRefresher);n(l,13,0,i._13(l,14)._hidden);n(l,27,0,t.pingInProgress);n(l,61,0,t.forceShow?"Show Online Only":"Show All");n(l,97,0,i._13(l,100).ngClassUntouched,i._13(l,100).ngClassTouched,i._13(l,100).ngClassPristine,i._13(l,100).ngClassDirty,i._13(l,100).ngClassValid,i._13(l,100).ngClassInvalid,i._13(l,100).ngClassPending);n(l,115,0,i._13(l,118).ngClassUntouched,i._13(l,118).ngClassTouched,i._13(l,118).ngClassPristine,i._13(l,118).ngClassDirty,i._13(l,118).ngClassValid,i._13(l,118).ngClassInvalid,i._13(l,118).ngClassPending)})}var En=i.V("page-device-info",y.a,function(n){return i._21(0,[(n()(),i.Z(0,0,null,null,1,"page-device-info",[],null,null,null,An,Zn)),i.Y(1,49152,null,0,y.a,[z.a,hn.a,h.a,M.a,i.u],null,null)],null,null)},{},{},[]),Un=t(140),Fn=t(82),Bn=t(138),Mn=t(129),Hn=t(89),Vn=t(46),$n=t(136),Gn=t(170),Jn=t(73),Wn=t(56),Kn=t(144),Qn=t(90),Xn=t(102),nl=t(142),ll=t(156),tl=t(391),el=t(141),il=t(43),ol=t(137),sl=t(143),ul=t(178),rl=i.W(j,[k.b],function(n){return i._10([i._11(512,i.i,i.S,[[8,[T.a,I.a,S.a,P.a,q.a,D.a,R.a,C.a,Y.a,$,G.b,mn,En]],[3,i.i],i.s]),i._11(4608,s.c,s.c,[]),i._11(4608,s.h,s.b,[]),i._11(5120,s.k,s.l,[]),i._11(4608,s.j,s.j,[s.c,s.h,s.k]),i._11(4608,s.g,s.a,[]),i._11(5120,s.e,s.m,[s.j,s.g]),i._11(5120,i.r,i._9,[[3,i.r]]),i._11(4608,an.l,an.k,[i.r,[2,an.t]]),i._11(5120,i.b,i._0,[]),i._11(5120,i.p,i._6,[]),i._11(5120,i.q,i._7,[]),i._11(4608,e.c,e.q,[an.d]),i._11(6144,i.D,null,[e.c]),i._11(4608,e.f,Un.a,[]),i._11(5120,e.d,function(n,l,t,i,o){return[new e.k(n,l),new e.o(t),new e.n(i,o)]},[an.d,i.u,an.d,an.d,e.f]),i._11(4608,e.e,e.e,[e.d,i.u]),i._11(135680,e.m,e.m,[an.d]),i._11(4608,e.l,e.l,[e.e,e.m]),i._11(6144,i.B,null,[e.l]),i._11(6144,e.p,null,[e.m]),i._11(4608,i.G,i.G,[i.u]),i._11(4608,e.h,e.h,[an.d]),i._11(4608,e.i,e.i,[an.d]),i._11(4608,wn.q,wn.q,[]),i._11(4608,wn.d,wn.d,[]),i._11(4608,Fn.a,Fn.a,[]),i._11(5120,Bn.a,Bn.c,[Bn.b]),i._11(4608,Mn.a,Mn.a,[N.a,x.a]),i._11(4608,Hn.a,Hn.a,[N.a,x.a]),i._11(4608,M.a,M.a,[]),i._11(4608,tn.a,tn.a,[]),i._11(4608,Vn.a,Vn.a,[A.a]),i._11(4608,rn.a,rn.a,[x.a,A.a,i.u,B.a]),i._11(4608,$n.a,$n.a,[N.a,x.a]),i._11(5120,an.g,Gn.c,[an.r,[2,an.a],x.a]),i._11(4608,an.f,an.f,[an.g]),i._11(5120,Jn.b,Jn.d,[N.a,Jn.a]),i._11(5120,F.a,F.b,[N.a,Jn.b,an.f,Wn.b,i.i]),i._11(4608,Kn.a,Kn.a,[N.a,x.a,F.a]),i._11(4608,Qn.a,Qn.a,[N.a,x.a]),i._11(4608,Xn.a,Xn.a,[N.a,x.a,F.a]),i._11(4608,nl.a,nl.a,[x.a,A.a,B.a,N.a,E.l]),i._11(4608,ll.a,ll.a,[N.a,x.a]),i._11(4608,U.a,U.a,[A.a,x.a]),i._11(4608,r.a,r.a,[]),i._11(4608,u.a,u.a,[]),i._11(4608,m.a,m.a,[]),i._11(4608,h.a,h.a,[Bn.a,A.a,s.e,M.a]),i._11(4608,p.a,p.a,[Bn.a,h.a,M.a]),i._11(4608,_.a,_.a,[]),i._11(4608,b.a,b.a,[Hn.a,$n.a,ll.a]),i._11(4608,o.a,o.a,[A.a,s.e,i.u,Bn.a,M.a,p.a]),i._11(4608,d.a,d.a,[A.a,m.a,_.a,M.a,Bn.a,i.u,b.a,o.a]),i._11(512,s.f,s.f,[]),i._11(512,an.c,an.c,[]),i._11(512,i.k,tl.a,[]),i._11(256,x.b,{preloadModules:!0},[]),i._11(1024,el.a,el.b,[]),i._11(1024,A.a,A.b,[e.b,el.a,i.u]),i._11(1024,x.a,x.c,[x.b,A.a]),i._11(512,B.a,B.a,[A.a]),i._11(512,il.a,il.a,[]),i._11(512,N.a,N.a,[x.a,A.a,[2,il.a]]),i._11(512,E.l,E.l,[N.a]),i._11(256,Jn.a,{links:[{loadChildren:"../pages/device/device.module.ngfactory#HomePageModuleNgFactory",name:"DevicePage",segment:"device/:id",priority:"low",defaultHistory:[]},{loadChildren:"../pages/home/home.module.ngfactory#HomePageModuleNgFactory",name:"HomePage",segment:"home",priority:"low",defaultHistory:[]},{loadChildren:"../pages/login/login.module.ngfactory#LoginPageModuleNgFactory",name:"LoginPage",segment:"login",priority:"high",defaultHistory:[]},{loadChildren:"../pages/settings/settings.module.ngfactory#SettingsPageModuleNgFactory",name:"SettingsPage",segment:"settings",priority:"low",defaultHistory:["HomePage"]}]},[]),i._11(512,i.h,i.h,[]),i._11(512,ol.a,ol.a,[i.h]),i._11(1024,Wn.b,Wn.c,[ol.a,i.o]),i._11(1024,i.c,function(n,l,t,i,o,s,u,r,a,c,h,d,p){return[e.s(n),sl.a(l),M.b(t,i),nl.b(o,s,u,r,a),Wn.d(c,h,d,p)]},[[2,i.t],x.a,A.a,B.a,x.a,A.a,B.a,N.a,E.l,x.a,Jn.a,Wn.b,i.u]),i._11(512,i.d,i.d,[[2,i.c]]),i._11(131584,i.f,i.f,[i.u,i.T,i.o,i.k,i.i,i.d]),i._11(512,i.e,i.e,[i.f]),i._11(512,e.a,e.a,[[3,e.a]]),i._11(512,wn.o,wn.o,[]),i._11(512,wn.g,wn.g,[]),i._11(512,wn.m,wn.m,[]),i._11(512,Gn.a,Gn.a,[]),i._11(512,ul.a,ul.a,[]),i._11(512,a.a,a.a,[]),i._11(512,j,j,[]),i._11(256,Bn.b,null,[]),i._11(256,k.a,f,[]),i._11(256,an.a,"/",[])])});Object(i.M)(),Object(e.j)().bootstrapModuleFactory(rl)},443:function(n,l,t){var e={"./af":216,"./af.js":216,"./ar":217,"./ar-dz":218,"./ar-dz.js":218,"./ar-kw":219,"./ar-kw.js":219,"./ar-ly":220,"./ar-ly.js":220,"./ar-ma":221,"./ar-ma.js":221,"./ar-sa":222,"./ar-sa.js":222,"./ar-tn":223,"./ar-tn.js":223,"./ar.js":217,"./az":224,"./az.js":224,"./be":225,"./be.js":225,"./bg":226,"./bg.js":226,"./bm":227,"./bm.js":227,"./bn":228,"./bn.js":228,"./bo":229,"./bo.js":229,"./br":230,"./br.js":230,"./bs":231,"./bs.js":231,"./ca":232,"./ca.js":232,"./cs":233,"./cs.js":233,"./cv":234,"./cv.js":234,"./cy":235,"./cy.js":235,"./da":236,"./da.js":236,"./de":237,"./de-at":238,"./de-at.js":238,"./de-ch":239,"./de-ch.js":239,"./de.js":237,"./dv":240,"./dv.js":240,"./el":241,"./el.js":241,"./en-au":242,"./en-au.js":242,"./en-ca":243,"./en-ca.js":243,"./en-gb":244,"./en-gb.js":244,"./en-ie":245,"./en-ie.js":245,"./en-nz":246,"./en-nz.js":246,"./eo":247,"./eo.js":247,"./es":248,"./es-do":249,"./es-do.js":249,"./es-us":250,"./es-us.js":250,"./es.js":248,"./et":251,"./et.js":251,"./eu":252,"./eu.js":252,"./fa":253,"./fa.js":253,"./fi":254,"./fi.js":254,"./fo":255,"./fo.js":255,"./fr":256,"./fr-ca":257,"./fr-ca.js":257,"./fr-ch":258,"./fr-ch.js":258,"./fr.js":256,"./fy":259,"./fy.js":259,"./gd":260,"./gd.js":260,"./gl":261,"./gl.js":261,"./gom-latn":262,"./gom-latn.js":262,"./gu":263,"./gu.js":263,"./he":264,"./he.js":264,"./hi":265,"./hi.js":265,"./hr":266,"./hr.js":266,"./hu":267,"./hu.js":267,"./hy-am":268,"./hy-am.js":268,"./id":269,"./id.js":269,"./is":270,"./is.js":270,"./it":271,"./it.js":271,"./ja":272,"./ja.js":272,"./jv":273,"./jv.js":273,"./ka":274,"./ka.js":274,"./kk":275,"./kk.js":275,"./km":276,"./km.js":276,"./kn":277,"./kn.js":277,"./ko":278,"./ko.js":278,"./ky":279,"./ky.js":279,"./lb":280,"./lb.js":280,"./lo":281,"./lo.js":281,"./lt":282,"./lt.js":282,"./lv":283,"./lv.js":283,"./me":284,"./me.js":284,"./mi":285,"./mi.js":285,"./mk":286,"./mk.js":286,"./ml":287,"./ml.js":287,"./mr":288,"./mr.js":288,"./ms":289,"./ms-my":290,"./ms-my.js":290,"./ms.js":289,"./mt":291,"./mt.js":291,"./my":292,"./my.js":292,"./nb":293,"./nb.js":293,"./ne":294,"./ne.js":294,"./nl":295,"./nl-be":296,"./nl-be.js":296,"./nl.js":295,"./nn":297,"./nn.js":297,"./pa-in":298,"./pa-in.js":298,"./pl":299,"./pl.js":299,"./pt":300,"./pt-br":301,"./pt-br.js":301,"./pt.js":300,"./ro":302,"./ro.js":302,"./ru":303,"./ru.js":303,"./sd":304,"./sd.js":304,"./se":305,"./se.js":305,"./si":306,"./si.js":306,"./sk":307,"./sk.js":307,"./sl":308,"./sl.js":308,"./sq":309,"./sq.js":309,"./sr":310,"./sr-cyrl":311,"./sr-cyrl.js":311,"./sr.js":310,"./ss":312,"./ss.js":312,"./sv":313,"./sv.js":313,"./sw":314,"./sw.js":314,"./ta":315,"./ta.js":315,"./te":316,"./te.js":316,"./tet":317,"./tet.js":317,"./th":318,"./th.js":318,"./tl-ph":319,"./tl-ph.js":319,"./tlh":320,"./tlh.js":320,"./tr":321,"./tr.js":321,"./tzl":322,"./tzl.js":322,"./tzm":323,"./tzm-latn":324,"./tzm-latn.js":324,"./tzm.js":323,"./uk":325,"./uk.js":325,"./ur":326,"./ur.js":326,"./uz":327,"./uz-latn":328,"./uz-latn.js":328,"./uz.js":327,"./vi":329,"./vi.js":329,"./x-pseudo":330,"./x-pseudo.js":330,"./yo":331,"./yo.js":331,"./zh-cn":332,"./zh-cn.js":332,"./zh-hk":333,"./zh-hk.js":333,"./zh-tw":334,"./zh-tw.js":334};function i(n){return t(o(n))}function o(n){var l=e[n];if(!(l+1))throw new Error("Cannot find module '"+n+"'.");return l}i.keys=function(){return Object.keys(e)},i.resolve=o,n.exports=i,i.id=443},48:function(n,l,t){"use strict";t.d(l,"a",function(){return e});t(5),t(30),t(53),t(20);var e=function(){function n(n,l,t){this.storage=n,this.mqtt=l,this.events=t,this.username="toshiba",this.password="toshibatec1234",this.isAuthenticated=!1}return n.prototype.login=function(n){var l=this;return new Promise(function(t,e){l.isAuthenticated=n.username==l.username&&n.password==l.password,l.storage.set("isAuthenticated",l.isAuthenticated).then(function(){t(l.isAuthenticated)})})},n.prototype.logout=function(){var n=this;return new Promise(function(l,t){n.isAuthenticated=!1,n.storage.set("isAuthenticated",n.isAuthenticated).then(function(){n.storage.clear(),n.mqtt.reset(),n.events.publish("user:logout"),l(n.isAuthenticated)})})},n.prototype.checkAuthentication=function(){return this.storage.get("isAuthenticated")},n}()},66:function(n,l,t){"use strict";t.d(l,"a",function(){return o});t(5),t(78),t(20),t(161),t(162);var e=t(13),i=(t.n(e),t(53),t(69),t(456)),o=(t.n(i),function(){function n(n,l,t,i,o,s,u,r){var a=this;this.platform=n,this.device=l,this.push=t,this.events=i,this.storage=o,this.zone=s,this.alertService=u,this.api=r,this.pushOptions={android:{senderID:"620756868871",forceShow:"true"},ios:{senderID:"620756868871",gcmSandbox:!0,alert:!0,badge:!0,sound:!0,clearBadge:!0},windows:{}},this.notifications=[],this.isDeviceRegistered=!1,this.registerSchedulerInterval=1e4,this.isLoggedIn=!1,this.subscription=e.Observable.create(function(n){a.observer=n}),this.registerFunc=function(){console.log("[PUSH] Running scheduler..."),a.isLoggedIn&&a.isDeviceRegistered?a.registerDevice().then(function(n){n?(console.log("[PUSH] Successfully registered device!"),a.stopScheduler()):a.restartScheduler()}).catch(function(n){a.restartScheduler()}):a.restartScheduler()},n.ready().then(function(){if(a.platform.is("mobile"))a.device_uuid=a.device.uuid,console.log("[PUSH] Device uuid:",a.device_uuid);else{var n=window.navigator,l=window.screen,t=n.mimeTypes.length;t+=n.userAgent.replace(/\D+/g,""),t+=n.plugins.length,t+=l.height||"",t+=l.width||"",a.device_uuid=t+=l.pixelDepth||"",a._desktopReadyPromise=new Promise(function(n){a._desktopResolve=n}),a.triggerReady()}}),i.subscribe("user:login",function(){a.isLoggedIn=!0}),i.subscribe("user:logout",function(){console.log("user logout"),a.isLoggedIn=!1,a.triggerScheduler()}),this.triggerScheduler()}return n.prototype.isInitialised=function(){return this.isDeviceRegistered},n.prototype.isWiFiRequired=function(){return!1},n.prototype.isCordovaRequired=function(){return!0},n.prototype.isLoggedInRequired=function(){return!1},n.prototype.name=function(){return"PushService"},n.prototype.triggerScheduler=function(){this.platform.is("mobile")&&(console.log("[PUSH] Trigger scheduler..."),this.registerFunc())},n.prototype.restartScheduler=function(){this.registerScheduler=setTimeout(this.registerFunc.bind(this),this.registerSchedulerInterval)},n.prototype.stopScheduler=function(){clearTimeout(this.registerScheduler)},n.prototype.init=function(){var n=this;console.log("[PUSH] Starting Push Service"),Promise.all([this.storage.get("notifications"),this.initNotificationsCounter()]).then(function(l){l[0]?n.notifications=l[0]:(n.notifications=[],n.updateStorage()),console.log("[PUSH] Push notifications list: ",n.notifications),n.pushObject=n.push.init(n.pushOptions),n.pushObject.on("notification").subscribe(function(l){var t=function(){console.log("[PUSH] Received a notification",JSON.stringify(l)),n.zone.run(function(){n.addNotification(l)})};n.platform.is("ios")?n.pushObject.finish().then(function(){t()}):n.platform.is("android")&&t()}),n.pushObject.on("registration").subscribe(function(l){console.log("[PUSH] Device registered "+JSON.stringify(l)),n.registerId=l.registrationId,n.isDeviceRegistered=!0}),n.pushObject.on("error").subscribe(function(l){console.error("[PUSH] Error with Push plugin",l),n.isDeviceRegistered=!1})})},n.prototype.updateStorage=function(){return this.storage.set("notifications",this.notifications)},n.prototype.update=function(){var n=this;this.storage.get("notifications").then(function(l){n.notifications=l||[]})},n.prototype.addNotification=function(n){var l=this;-1==this.notifications.map(function(n){return n.additionalData.notId}).indexOf(n.additionalData.notId)&&n.additionalData.jobId&&(this.notifications.push(n),this.updateStorage().then(function(){l.observer.next(!0)}))},n.prototype.removeNotification=function(n){var l=this,t=!1,e=this.notifications.filter(function(l){return l.additionalData.jobId==n&&(t=!0),l.additionalData.jobId!=n});t&&(this.notifications=e,this.updateStorage().then(function(){l.observer.next(!1)}))},n.prototype.getAmount=function(){return this.notifications.length},n.prototype.registerDevice=function(){var n=this;return new Promise(function(l,t){if(n.platform.is("mobile")){!function(){var t=n.platform.is("ios")?"ios":"android";n.api.registerDevice({deviceId:n.device_uuid,deviceToken:n.registerId,deviceType:t}).subscribe(function(t){console.log("[PUSH] Got response from server",t),t.success?(console.log("[PUSH] Push registration successful!"),n.storage.set("fcm_token",n.registerId).then(function(){return l(!0)})):(console.log("[PUSH] Push registration failed!"),l(!1))})}()}else l(!0)})},n.prototype.unregisterDevice=function(){var n=this;return new Promise(function(l,t){n.platform.is("mobile")?n.api.unregisterDevice({deviceId:n.device_uuid}).subscribe(function(n){console.log("[PUSH] Push unregister response: ",n),l(n.success)},function(n){console.log("[PUSH] Push unregister failed!",n),l(!1)}):l(!0)})},n.prototype.unregisterPushService=function(){},n.prototype.initNotificationsCounter=function(){var n=this;return new Promise(function(l,t){n.platform.is("mobile")?n.getLocalNotificationsCounter().then(function(t){t?l():n.setLocalNotificationsCounter(0).then(function(){l()})}):l()})},n.prototype.setLocalNotificationsCounter=function(n){return this.storage.set("localCounter",n)},n.prototype.getLocalNotificationsCounter=function(){return this.storage.get("localCounter")},n.prototype.resetUI=function(){var n=this;this.messaging.getToken().then(function(l){l?n.sendTokenToServer(l):(console.log("No Instance ID token available. Request permission to generate one."),n.setTokenSentToServer(!1))}).catch(function(l){console.log("An error occurred while retrieving token. ",l),n.setTokenSentToServer(!1)})},n.prototype.initDesktop=function(){var n=this;navigator.serviceWorker.register("service-worker.js").then(function(l){n.messaging=i.messaging(),n.messaging.useServiceWorker(l),n.messaging.onTokenRefresh(function(){n.messaging.getToken().then(function(l){n.setTokenSentToServer(!1),n.sendTokenToServer(l),n.resetUI()})}),n.messaging.onMessage(function(n){console.log(n)}),n.resetUI(),n.isDeviceRegistered=!0,n.events.publish("desktopPush:ready")})},n.prototype.onDesktopReady=function(){return this._desktopReadyPromise},n.prototype.triggerReady=function(){var n=this;this.isDeviceRegistered?this._desktopResolve():this.events.subscribe("desktopPush:ready",function(){n._desktopResolve()})},n.prototype.isTokenSentToServer=function(){return 1==window.localStorage.getItem("sentToServer")},n.prototype.setTokenSentToServer=function(n){window.localStorage.setItem("sentToServer",n?1:0)},n.prototype.isPermissionGranted=function(){return 1==window.localStorage.getItem("gcm_desktop_notifcation")},n.prototype.setPermissionGranted=function(n){window.localStorage.setItem("gcm_desktop_notification",n?1:0)},n.prototype.requestPermission=function(){var n=this;this.messaging.requestPermission().then(function(){console.log("[PUSH] Desktop notification permission granted."),n.setPermissionGranted(!0),n.resetUI()}).catch(function(l){console.log("[PUSH] Unable to get desktop permission to notify.",l),n.setPermissionGranted(!1)})},n.prototype.deleteToken=function(){var n=this;this.messaging.getToken().then(function(l){n.messaging.deleteToken(l).then(function(){console.log("Token deleted."),n.setTokenSentToServer(!1),n.resetUI()}).catch(function(n){console.log("Unable to delete token. ",n)})})},n.prototype.sendTokenToServer=function(n){this.isTokenSentToServer()?console.log("[PUSH] Token already sent to server so won't send it again unless it changes"):(this.setTokenSentToServer(!0),this.api.registerDevice({deviceId:this.device_uuid,deviceToken:n,deviceType:"browser"}).subscribe(function(n){console.log("[PUSH] Got response from server",n),n.success?console.log("[PUSH] Desktop Push registration successful!"):console.log("[PUSH] Desktop Push registration failed!")}))},n}())},69:function(n,l,t){"use strict";t.d(l,"a",function(){return c});t(5);var e=t(70),i=(t(20),t(13)),o=(t.n(i),t(516)),s=(t.n(o),t(519)),u=(t.n(s),t(523)),r=(t.n(u),t(358)),a=(t.n(r),t(53),t(393)),c=(t(48),function(){function n(n,l,t,e,i,o){this.platform=n,this.http=l,this.zone=t,this.storage=e,this.events=i,this.auth=o,this.connect_timeout=25e3,this.retry=1,this.username="",this.password="";var s=new a.a;this.host=s.host,this.endpoint=s.endpoint}return n.prototype.getControllers=function(){return this.getRequest("getRegisteredControllers")},n.prototype.addController=function(n){return this.postRequest("addController",n,!0)},n.prototype.registerDevice=function(n){return this.postRequest("addDeviceId",n,!0)},n.prototype.unregisterDevice=function(n){return this.postRequest("removeDeviceId",n,!0)},n.prototype.getRequest=function(n,l){var t=this;return i.Observable.create(function(i){!function(){var o=t.endpoint+"/"+n;console.log("[API] Get request endpoint",o);var s=new e.d({Authorization:"Basic "+btoa(t.auth.username+":"+t.auth.password)}),u=new e.g({headers:s,search:l?t.json2url(l):null});console.log("[API] Get request params",u.search?u.search.toString():"none"),t.http.get(o,u).timeout(t.connect_timeout).retry(t.retry).subscribe(function(n){var l=n.json();console.log("[API] Get request response",l),i.next(l),i.complete()},function(n){if(console.log("[API] Get request error",n.status,n),401==n.status);else if(404==n.status)i.next({success:!1,message:a.b.NOT_FOUND,result:null}),i.complete();else if(500==n.status){var l="";l=t.isOnline()?a.b.SERVER_ERR:a.b.OFFLINE_MESSAGE,i.next({success:!1,message:l,result:null}),i.complete()}else i.next({success:!1,message:n.message,result:null}),i.complete()},function(){console.log("[API] Get request completed")})}()})},n.prototype.postRequest=function(n,l,t,o){var s=this;return i.Observable.create(function(i){!function(){var u=s.endpoint+"/"+n;console.log("[API] Post request endpoint",u);var r=new e.d({Authorization:t?"Basic "+btoa(s.auth.username+":"+s.auth.password):null,"Content-Type":o?"application/json":"application/x-www-form-urlencoded"}),c=new e.g({headers:r}),h=o?l:s.json2url(l).toString();console.log("[API] Post request params",h),s.http.post(u,h,c).timeout(s.connect_timeout).retry(s.retry).subscribe(function(n){var l=n.json();console.log("[API] Post request response",l),i.next(l),i.complete()},function(n){if(console.log("[API] Post request error",n.status,n),401==n.status);else if(404==n.status)i.next({success:!1,message:a.b.NOT_FOUND,result:null}),i.complete();else if(500==n.status){var l="";l=s.isOnline()?a.b.SERVER_ERR:a.b.OFFLINE_MESSAGE,i.next({success:!1,message:l,result:null}),i.complete()}else i.next({success:!1,message:n.message,result:null}),i.complete()},function(){console.log("[API] Post request completed")})}()})},n.prototype.json2url=function(n){var l=new e.i;for(var t in n)n.hasOwnProperty(t)&&l.append(t,n[t]);return l},n.prototype.isOnline=function(){return this.platform.is("cordova")?navigator.connection.type!==Connection.NONE:navigator.onLine},n}())},78:function(n,l,t){"use strict";t.d(l,"a",function(){return i});t(5),t(20);var e=t(358),i=(t.n(e),function(){function n(n,l,t){this.alertCtrl=n,this.loadingCtrl=l,this.toastCtrl=t}return n.prototype.dismissAll=function(){this.dismissAlert(),this.dismissToast()},n.prototype.showAlert=function(n,l,t,e,i,o){var s=this;this.dismissAlert();this.alert=this.alertCtrl.create({title:n,message:l,buttons:t||[{text:"OK",handler:function(){}}],inputs:e||[],mode:i||null}),o&&(this.alertCallback=o),this.alert.onDidDismiss(function(){s.alert=null,s.alertCallback&&(s.alertCallback(),s.alertCallback=null)}),this.alert.present()},n.prototype.dismissAlert=function(){this.alert&&this.alert.dismiss()},n.prototype.showToast=function(n,l,t){var e=this;this.dismissToast(),this.toast=this.toastCtrl.create({message:n,duration:l,showCloseButton:t,position:"bottom",closeButtonText:"Close"}),this.toast.onDidDismiss(function(){e.toast=null}),this.toast.present()},n.prototype.dismissToast=function(){this.toast&&this.toast.dismiss()},n.prototype.showLoading=function(n,l){var t=this;n&&(this.loadingCallback=n),this.loading||(this.loading=this.loadingCtrl.create({cssClass:"loginLoading",content:l||null}),this.loading.onDidDismiss(function(n){t.loading=null,t.loadingCallback&&(null!=n?t.loadingCallback(n):t.loadingCallback()),t.loadingCallback=null}),this.loading.present(),this.loadingTimeout=setTimeout(function(){t.loading&&(t.loadingCallback=function(){t.showToast("Not responding",3e3,!0)},t.dismissLoading(),t.loadingTimeout=null)},3e4))},n.prototype.dismissLoading=function(n){this.loading&&(this.loadingTimeout&&(clearTimeout(this.loadingTimeout),this.loadingTimeout=null),null!=n?this.loading.dismiss(n):this.loading.dismiss())},n}())}},[410]);