webpackJsonp([3],{122:function(n,l,t){"use strict";t.d(l,"a",function(){return e}),t.d(l,"b",function(){return i});t(5),t(54),t(20);var e=function(){function n(n,l,t,e,i,o,s,u,r,a,c){this.navCtrl=n,this.popover=l,this.mqtt=t,this.socket=e,this.auth=i,this.platform=o,this.storage=s,this.alertCtrl=u,this.api=r,this.alert=a,this.push=c,this.devices=[],this.isLoading=!0}return n.prototype.ionViewCanEnter=function(){return this.auth.checkAuthentication()},n.prototype.ionViewWillEnter=function(){this.refresh()},n.prototype.ionViewDidLoad=function(){var n=this;this.platform.is("core")&&!this.push.isPermissionGranted()&&this.push.onDesktopReady().then(function(){n.push.requestPermission()})},n.prototype.refresh=function(){var n=this;this.isLoading=!0,this.api.getControllers().subscribe(function(l){l.success&&(console.log(l.result),n.devices=l.result),n.isLoading=!1})},n.prototype.goToDevicePage=function(n){this.navCtrl.push("DevicePage",{id:n})},n.prototype.showAddDeviceDialog=function(){var n=this;this.alertCtrl.create({title:"Add a device",subTitle:"<p>Please enter the device ID<p>",inputs:[{name:"id",placeholder:"controller ID e.g. 1078310"}],buttons:[{text:"Cancel",role:"cancel"},{text:"Add",handler:function(l){l.id&&n.addDevice(l.id)}}]}).present()},n.prototype.addDevice=function(n){var l=this;console.log(this.devices);0==this.devices.filter(function(l){return l.id==n}).length&&this.api.addController({id:n}).subscribe(function(n){n.success?l.refresh():l.alert.showToast(n.msg,3e3,!0)})},n.prototype.removeDevice=function(n){this.devices=this.devices.filter(function(l){return l.id!=n}),this.storage.set("devices",this.devices)},n.prototype.updateDevices=function(){},n.prototype.presentPopover=function(n){var l=this.popover.create(i);l.onDidDismiss(function(){}),l.present({ev:n})},n}(),i=function(){function n(n,l,t,e){this.viewCtrl=n,this.auth=l,this.app=t,this.socket=e}return n.prototype.close=function(n){this.viewCtrl.onDidDismiss(n),this.viewCtrl.dismiss()},n.prototype.goToSettingsPage=function(){var n=this;this.close(function(){return n.app.getRootNavs()[0].push("SettingsPage")})},n.prototype.logout=function(){var n=this;this.auth.logout().then(function(l){l||n.close(function(){n.socket.unsubscribeAllTopics(),n.app.getRootNavs()[0].setRoot("LoginPage")})})},n}()},177:function(n,l,t){"use strict";t.d(l,"a",function(){return i});t(5),t(20);var e=t(1),i=(t.n(e),function(){function n(n,l,t,e){this.navCtrl=n,this.navParams=l,this.events=t,this.mqtt=e,this.logs=[],this.autoScroll=!0,this.initialized=!1}return n.prototype.ionViewWillLeave=function(){clearTimeout(this.timeout)},n.prototype.ionViewWillEnter=function(){var n=this;setTimeout(function(){return n.content.scrollToBottom()})},n.prototype.ionViewDidLoad=function(){var n=this;console.log("Trying to subscribe..."),this.events.subscribe("subscription:stop",function(){console.log("unsubscribing mqtt..."),n.events.unsubscribe("subscription:mqtt"),console.log("unsubscribing event..."),n.events.unsubscribe("subscription:stop")}),this.events.subscribe("subscription:mqtt",function(l){l.timestamp=e(Date.now()).format("YYYY-MM-D h:mm:ss a"),n.logs.length>=1800&&(n.logs=[]),n.logs.push(l),n.timeout=setTimeout(function(){n.autoScroll&&n.initialized&&n.content.scrollToBottom()})}),this.content.ionScroll.subscribe(function(){n.content.isScrolling&&"up"==n.content.directionY?n.autoScroll=!1:!n.autoScroll&&n.content.scrollTop+n.content.contentHeight>=n.content.getContentDimensions().scrollHeight-20&&(n.autoScroll=!0)}),setTimeout(function(){return n.initialized=!0})},n}())},178:function(n,l,t){"use strict";t.d(l,"a",function(){return i});t(5),t(20);var e=t(1),i=(t.n(e),function(){function n(n,l,t,e,i,o){this.navCtrl=n,this.navParams=l,this.mqtt=t,this.socket=e,this.events=i,this.zone=o,this.sensors=[],this.device={id:"",status:0,lastSeen:"",lastReboot:"",fv:"",ip:"",intervals:{PUB_INTERVAL:"10000",PACKET_INTERVAL:"50"}},this.ctrlID="",this.forceShow=!1,this.pingStatus=!1,this.pingInProgress=!1,this.pingTimeout=1e4,this.scrolling="down",this.refreshInProgress=!0}return n.prototype.ionViewDidLoad=function(){var n=this;this.ctrlID=this.navParams.get("id"),this.device.id=this.ctrlID,this.resetSensors(),this.events.subscribe("subscription:stop",function(){console.log("unsubscribing mqtt..."),n.events.unsubscribe("subscription:mqtt"),console.log("unsubscribing event..."),n.events.unsubscribe("subscription:stop")}),this.events.subscribe("subscription:mqtt",this.processPayload.bind(this)),this.refresh(),this.content.ionScrollEnd.subscribe(function(){n.zone.run(function(){n.scrolling=n.content.scrollTop+n.content.contentHeight>=n.content.getContentDimensions().scrollHeight-20?"up":"down"})})},n.prototype.processPayload=function(n){if(n.destinationName!=this.ctrlID+"/IN/CHECK"&&n.destinationName!=this.ctrlID+"/IN/CTRL/REFRESH"&&n.destinationName!=this.ctrlID+"/REBOOT"){if(n.destinationName==this.ctrlID+"/OUT/CHECK")return this.pingInProgress=!1,clearTimeout(this.pingSetTimeout),this.pingSetTimeout=null,this.device.status=1,void(this.device.lastSeen=e(Date.now()).format("YYYY-MM-D h:mm:ss a"));if(n.destinationName!=this.ctrlID+"/IN/RFID/LED1"){if(n.destinationName==this.ctrlID+"/OUT/INTERVAL"){l=JSON.parse(n.payloadString);this.device.fv=l.CTRL_FIRM,this.device.ip=l.IP,this.device.intervals.PACKET_INTERVAL=l.PACKET_INTERVAL,this.device.intervals.PUB_INTERVAL=l.PUB_INTERVAL,this.device.lastReboot=e(Date.now()).format("YYYY-MM-D h:mm:ss a")}else if(n.destinationName==this.ctrlID+"/OUT/RFID/STATUS"){this.refreshInProgress=!1;l=JSON.parse(n.payloadString);(t=parseInt(l.POS))<31&&(this.sensors[t].fv=l.SNSR_FIRM,this.sensors[t].weight=l.WEIGHT,this.sensors[t].proximity=l.PROXIMITY,this.sensors[t].button=l.BUTTON,this.sensors[t].currentRFID=l.RFID,this.sensors[t].type=l.WEIGHT?"Weight":l.PROXIMITY?"Proximity":"Button"),this.sensors[t].isOnline=!0}else if(n.destinationName==this.ctrlID+"/OUT/RFID/WEIGHT"){l=JSON.parse(n.payloadString);console.log(l);(t=parseInt(l.POS))<31&&(this.sensors[t].weight=l.WEIGHT,this.sensors[t].currentRFID=l.RFID),this.sensors[t].isOnline=!0}else if(n.destinationName==this.ctrlID+"/OUT/RFID/PRX1"){l=JSON.parse(n.payloadString);console.log(l);(t=parseInt(l.POS))<31&&(this.sensors[t].proximity=l.PROXIMITY),this.sensors[t].isOnline=!0}else if(n.destinationName==this.ctrlID+"/OUT/RFID/BTN1"){l=JSON.parse(n.payloadString);console.log(l);(t=parseInt(l.POS))<31&&(this.sensors[t].button=l.BUTTON),this.sensors[t].isOnline=!0}this.device.lastSeen=e(Date.now()).format("YYYY-MM-D h:mm:ss a"),this.device.status=1}else{var l=JSON.parse(n.payloadString);console.log(l);var t;(t=parseInt(l.POS))<31&&(this.sensors[t].button="ON"==l.LED?"1":"0")}}},n.prototype.resetSensors=function(){this.sensors=[];for(var n=0;n<31;n++)this.sensors.push({pos:n,isOnline:!1,fv:"",type:"",weight:"",button:"",proximity:"",led:"",currentRFID:"",previousRFID:""})},n.prototype.ping=function(){var n=this;this.pingInProgress=!0,this.pingSetTimeout=setTimeout(function(){n.pingInProgress=!1,n.pingSetTimeout=null},this.pingTimeout),this.socket.publish(this.ctrlID+"/IN/CHECK",JSON.stringify({CTRL_ID:this.ctrlID}),1)},n.prototype.refresh=function(){this.refreshInProgress=!0,this.resetSensors(),this.socket.publish(this.ctrlID+"/IN/CTRL/REFRESH",JSON.stringify({CTRL_ID:this.ctrlID}),1)},n.prototype.reboot=function(){this.socket.publish(this.ctrlID+"/REBOOT",'"REBOOT"',1)},n.prototype.setIntervals=function(){this.socket.publish(this.ctrlID+"/IN/INTERVAL",JSON.stringify(this.device.intervals),1)},n.prototype.overrideLED=function(n,l){this.socket.publish(this.ctrlID+"/IN/RFID/LED1",JSON.stringify({CTRL_ID:this.ctrlID,RFID:n.currentRFID,POS:n.pos.toString(),LED:l}),1)},n.prototype.scroll=function(){"up"==this.scrolling?this.content.scrollToTop():this.content.scrollToBottom()},n}())},192:function(n,l){function t(n){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+n+"'.")})}t.keys=function(){return[]},t.resolve=t,n.exports=t,t.id=192},216:function(n,l,t){function e(n){var l=i[n];return l?t.e(l[1]).then(function(){return t(l[0])}):Promise.reject(new Error("Cannot find module '"+n+"'."))}var i={"../pages/device/device.module.ngfactory":[528,2],"../pages/login/login.module.ngfactory":[529,1],"../pages/settings/settings.module.ngfactory":[530,0]};e.keys=function(){return Object.keys(i)},e.id=216,n.exports=e},29:function(n,l,t){"use strict";t.d(l,"a",function(){return s});t(5),t(20),t(54);var e=t(439),i=(t.n(e),t(13)),o=(t.n(i),t(440)),s=(t.n(o),function(){function n(n,l,t,e){var i=this;this.storage=n,this.platform=l,this.http=t,this.events=e,this.mqttConnectionStatus=!1,this.mqttSubscribedTopics=[],this.mqttUrl="",this.mqttPort=8e3,this.mqttOptions={timeout:10,keepAliveInterval:10},this.mqttRegisteredBrokerList=[],this.callbacks=[],this.noReconnect=!1,console.log("[mqtt] Initiating MQTT..."),this.prepareReady(),this._readyPromise=new Promise(function(n){i._readyResolve=n}),this.storage.get("mqttBrokers").then(function(n){n&&n.length>0&&(i.mqttRegisteredBrokerList=n,console.log(i.mqttRegisteredBrokerList),i.startBroker())})}return n.prototype.ready=function(){return this._readyPromise},n.prototype.triggerReady=function(){this._readyResolve()},n.prototype.prepareReady=function(){this.mqttConnectionStatus?this.triggerReady():this.events.subscribe("mqtt:ready",this.completed.bind(this))},n.prototype.completed=function(){this.events.unsubscribe("mqtt:ready"),this.triggerReady()},n.prototype.reset=function(){this.mqttRegisteredBrokerList=[],this.callbacks=[],this.disconnectTimeout&&(clearTimeout(this.disconnectTimeout),this.disconnectTimeout=null),this.failureTimeout&&(clearTimeout(this.failureTimeout),this.failureTimeout=null),this.mqttUrl="",this.disconnectBroker()},n.prototype.startBroker=function(){console.log("[mqtt] start broker"),this.disconnectBroker();var n=this.getDefaultBroker();if(console.log("Default",n),n.url){this.mqttUrl=n.url,this.mqttPort=n.port?parseInt(n.port):8e3,this.mqttOptions=n.options?n.options:this.mqttOptions,this.failureTimeout&&clearTimeout(this.failureTimeout),this.disconnectTimeout&&clearTimeout(this.disconnectTimeout);this.triggerReady()}},n.prototype.callback=function(n){for(var l in this.callbacks)this.callbacks[l](n)},n.prototype.registerCallback=function(n,l){this.callbacks[n]=l},n.prototype.unregisterCallback=function(n){this.callbacks=this.callbacks.filter(function(l,t){return t!=n})},n.prototype.publish=function(n,l,t){var i=new e.Paho.MQTT.Message(l);i.destinationName=n,i.qos=t,this.mqttClient.send(i)},n.prototype.subscribeTopic=function(n,l){-1==this.mqttSubscribedTopics.indexOf(n)&&(this.mqttSubscribedTopics.push(n),this.mqttClient.subscribe(n,{qos:l})),console.log(this.mqttSubscribedTopics)},n.prototype.unsubscribeTopic=function(n){this.mqttClient.unsubscribe(n,{}),this.mqttSubscribedTopics=this.mqttSubscribedTopics.filter(function(l){return l!=n}),console.log(this.mqttSubscribedTopics)},n.prototype.unsubscribeTopics=function(n){var l=this;n.forEach(function(n){l.unsubscribeTopic(n)})},n.prototype.unsubscribeAllTopics=function(){var n=this;this.mqttSubscribedTopics.forEach(function(l){n.unsubscribeTopic(l)}),this.mqttSubscribedTopics=[]},n.prototype.onConnected=function(){var n=this;this.events.publish("mqtt:ready"),this.mqttConnectionStatus=!0,console.log("[mqtt] MQTT connected"),this.mqttSubscribedTopics.forEach(function(l){n.mqttClient.subscribe(l,{qos:1})})},n.prototype.onLostConnection=function(){var n=this;if(console.log("[mqtt] MQTT disconnected"),this.mqttConnectionStatus=!1,!this.noReconnect){var l=function(){n.disconnectTimeout=setTimeout(function(){n.isOnline()?n.connect():l()},0)};l()}},n.prototype.onFailure=function(n){var l=this;if(console.log("[mqtt] MQTT Failure: ",n),this.mqttConnectionStatus=!1,!this.noReconnect){var t=function(){l.failureTimeout=setTimeout(function(){l.isOnline()?l.connect():t()},3e3)};t()}},n.prototype.connect=function(){},n.prototype.getAllSubscribedTopics=function(){return i.Observable.of(this.mqttSubscribedTopics)},n.prototype.getRegisteredBrokerList=function(){return i.Observable.of(this.mqttRegisteredBrokerList)},n.prototype.addBroker=function(n,l,t){var e=this;return new Promise(function(i){e.mqttRegisteredBrokerList.filter(function(l){return l.url==n}).length>0?i():(e.mqttRegisteredBrokerList.push({url:n,port:l||8e3,options:t||e.mqttOptions,default:!1}),e.storage.set("mqttBrokers",e.mqttRegisteredBrokerList).then(function(){return i()}))})},n.prototype.removeBroker=function(n){var l=this;return new Promise(function(t){n==l.mqttUrl&&l.disconnectBroker(),l.mqttRegisteredBrokerList=l.mqttRegisteredBrokerList.filter(function(l){return l.url!=n}),l.storage.set("mqttBrokers",l.mqttRegisteredBrokerList).then(function(){return t()})})},n.prototype.disconnectBroker=function(){console.log("[mqtt] Disconnect from current broker"),this.mqttClient&&(console.log("[mqtt] Got client, disconnect first..."),this.noReconnect=!0,this.isOnline()&&this.mqttClient.isConnected()&&(this.mqttClient.disconnect(),this.unsubscribeAllTopics()),this.mqttClient=null,this.mqttSubscribedTopics=[])},n.prototype.setDefaultBroker=function(n){return this.mqttRegisteredBrokerList.forEach(function(l){l.default=l.url==n}),this.storage.set("mqttBrokers",this.mqttRegisteredBrokerList)},n.prototype.getDefaultBroker=function(){var n=this.mqttRegisteredBrokerList.filter(function(n){return n.default});return n.length>0?n[0]:{}},n.prototype.isOnline=function(){return this.platform.is("cordova")?navigator.connection.type!==Connection.NONE:navigator.onLine},n}())},39:function(n,l,t){"use strict";t.d(l,"a",function(){return e});t(5),t(29),t(54),t(20);var e=function(){function n(n,l,t){var e=this;this.storage=n,this.mqtt=l,this.events=t,this.username="toshiba",this.password="toshibatec1234",this.isAuthenticated=!1,this.token="",this.storage.get("token").then(function(n){n&&(e.token=n)})}return n.prototype.login=function(n){var l=this;return new Promise(function(t,e){l.isAuthenticated=n.username==l.username&&n.password==l.password,l.storage.set("isAuthenticated",l.isAuthenticated).then(function(){l.isAuthenticated&&(l.token=btoa(l.username+":"+l.password),l.storage.set("token",l.token)),t(l.isAuthenticated)})})},n.prototype.logout=function(){var n=this;return new Promise(function(l,t){n.isAuthenticated=!1,n.token="",n.storage.set("isAuthenticated",n.isAuthenticated).then(function(){n.storage.clear(),n.mqtt.reset(),n.events.publish("user:logout"),l(n.isAuthenticated)})})},n.prototype.checkAuthentication=function(){return this.storage.get("isAuthenticated")},n}()},394:function(n,l,t){"use strict";t.d(l,"a",function(){return e}),t.d(l,"b",function(){return i}),t.d(l,"c",function(){return o});var e=function(){return function(){this.host="http://localhost:3001",this.endpoint=this.host+"/api"}}(),i={UNAUTHORIZED_MESSAGE:"Seems like we have problem identifying your account. Please login again.",OFFLINE_MESSAGE:"Seems like there is no Internet connection. Please check your Internet connection.",NOT_FOUND:"Seems like we have problem connecting to server. Please try again later.",SERVER_ERR:"Seems like there is server problem. Please consult our technical support for more details."},o={apiKey:"AIzaSyCyLL3j363FRmxxa05m8pBoYXl-_0wuBAo",authDomain:"nbc-ionic2-push-notification.firebaseapp.com",databaseURL:"https://nbc-ionic2-push-notification.firebaseio.com",projectId:"nbc-ionic2-push-notification",storageBucket:"nbc-ionic2-push-notification.appspot.com",messagingSenderId:"620756868871"}},40:function(n,l,t){"use strict";t.d(l,"a",function(){return i});t(5);var e=t(13),i=(t.n(e),t(20),t(39),t(29),function(){function n(n,l,t){var i=this;this.events=n,this.auth=l,this.mqtt=t,this.isAuthorized=-1,this.subscribedTopics=[],this.connectionStatus=!1,this.mqttReady=!1,this.observable=e.Observable.create(function(n){i.observer=n}),this.events.subscribe("user:login",function(){i.mqttReady?i.initialise():new Promise(function(n){i.brokerReadyResolve=n}).then(function(){return i.initialise()})}),this.mqtt.ready().then(function(){i.brokerReadyResolve&&(i.mqttReady=!0,i.brokerReadyResolve())})}return n.prototype.initialise=function(){var n=this;this.socket&&this.socket.close();var l=this.mqtt.getDefaultBroker();this.socket=io(l.url?"/"+l.url:"",{path:"/toshiba-tec-project/socket.io"}),this.socket.on("connect",function(){console.log("[SOCKET] Connected to server, checking authentication..."),console.log(n.auth.token),n.isAuthorized=-1,n.socket.emit("authentication",n.auth.token)}),this.socket.on("authentication",function(l){console.log("[SOCKET] Authentication result from server..",l.success),l.success?(n.isAuthorized=1,n.subscribedTopics.forEach(function(l){n.subscribeTopic(l,1)})):n.isAuthorized=0,n.socket.emit("mqtt:connection")}),this.socket.on("mqtt:message",function(l){n.observer.next(l)}),this.socket.on("mqtt:connection",function(l){console.log("[SOCKET] Getting MQTT connection status...",l.result),n.connectionStatus=l.result}),this.socket.on("disconnect",function(){n.connectionStatus=!1})},n.prototype.publish=function(n,l,t){this.socket.emit("mqtt:publish",{topic:n,payload:l,qos:t})},n.prototype.subscribeTopic=function(n,l){-1==this.subscribedTopics.indexOf(n)&&this.subscribedTopics.push(n),this.socket.emit("mqtt:subscribe",{topic:n,qos:l})},n.prototype.unsubscribeTopic=function(n){this.socket.emit("mqtt:unsubscribe",n),this.subscribedTopics=this.subscribedTopics.filter(function(l){return l!=n})},n.prototype.unsubscribeAllTopics=function(){var n=this;this.subscribedTopics.forEach(function(l){n.unsubscribeTopic(l)})},n.prototype.getMessages=function(){return this.observable},n}())},410:function(n,l,t){"use strict";function e(n){return S._21(0,[(n()(),S.Z(0,0,null,null,2,"ion-nav",[],null,null,null,ln.b,ln.a)),S._16(6144,null,tn.a,null,[en.a]),S.Y(2,4374528,null,0,en.a,[[2,on.a],[2,sn.a],un.a,rn.a,an.a,S.j,S.u,S.z,S.i,cn.l,hn.a,[2,dn.a],pn.a,S.k],{root:[0,"root"]},null),(n()(),S._19(-1,null,["\n"]))],function(n,l){n(l,2,0,l.component.rootPage)},null)}function i(n){return S._21(0,[(n()(),S.Z(0,0,null,null,1,"span",[["class","subheader"]],null,null,null,null,null)),(n()(),S._19(-1,null,["\n          No registered MQTT Brokers\n        "]))],null,null)}function o(n){return S._21(0,[(n()(),S.Z(0,0,null,null,1,"span",[["class","subheader"]],null,null,null,null,null)),(n()(),S._19(-1,null,["\n          Please choose a MQTT broker\n        "]))],null,null)}function s(n){return S._21(0,[(n()(),S.Z(0,0,null,null,1,"span",[["class","subheader"]],null,null,null,null,null)),(n()(),S._19(-1,null,["Checking authentication..."]))],null,null)}function u(n){return S._21(0,[(n()(),S.Z(0,0,null,null,1,"span",[["class","subheader"]],null,null,null,null,null)),(n()(),S._19(-1,null,["Authentication failed"]))],null,null)}function r(n){return S._21(0,[(n()(),S.Z(0,0,null,null,1,"span",[["class","subheader"]],null,null,null,null,null)),(n()(),S._19(1,null,["\n            ","\n          "]))],null,function(n,l){n(l,1,0,l.component.socket.connectionStatus?"MQTT Connected":"Connecting to MQTT...")})}function a(n){return S._21(0,[(n()(),S.Z(0,0,null,null,11,"div",[],null,null,null,null,null)),(n()(),S._19(-1,null,["\n          "])),(n()(),S._19(-1,null,["\n          "])),(n()(),S.U(16777216,null,null,1,null,s)),S.Y(4,16384,null,0,_n.j,[S.I,S.F],{ngIf:[0,"ngIf"]},null),(n()(),S._19(-1,null,["\n          "])),(n()(),S.U(16777216,null,null,1,null,u)),S.Y(7,16384,null,0,_n.j,[S.I,S.F],{ngIf:[0,"ngIf"]},null),(n()(),S._19(-1,null,["\n          "])),(n()(),S.U(16777216,null,null,1,null,r)),S.Y(10,16384,null,0,_n.j,[S.I,S.F],{ngIf:[0,"ngIf"]},null),(n()(),S._19(-1,null,["\n        "]))],function(n,l){var t=l.component;n(l,4,0,-1==t.socket.isAuthorized);n(l,7,0,0==t.socket.isAuthorized);n(l,10,0,1==t.socket.isAuthorized)},null)}function c(n){return S._21(0,[(n()(),S.Z(0,0,null,null,1,"ion-spinner",[["item-end",""]],[[2,"spinner-paused",null]],null,null,bn.b,bn.a)),S.Y(1,114688,null,0,vn.a,[rn.a,S.j,S.z],null,null)],function(n,l){n(l,1,0)},function(n,l){n(l,0,0,S._13(l,1)._paused)})}function h(n){return S._21(0,[(n()(),S.Z(0,0,null,null,2,"button",[["clear",""],["ion-button",""],["item-end",""]],null,[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.refresh()&&e}return e},yn.b,yn.a)),S.Y(1,1097728,[[3,4]],0,kn.a,[[8,""],rn.a,S.j,S.z],{clear:[0,"clear"]},null),(n()(),S._19(-1,0,["\n        Refresh\n      "]))],function(n,l){n(l,1,0,"")},null)}function d(n){return S._21(0,[(n()(),S.Z(0,0,null,null,33,"ion-item-sliding",[],null,null,null,jn.b,jn.a)),S.Y(1,49152,null,2,Tn.a,[[2,In.a],an.a,S.z,S.j,S.u],null,null),S._17(335544320,5,{item:0}),S._17(603979776,6,{_itemOptions:1}),(n()(),S._19(-1,null,["\n      "])),(n()(),S.Z(5,0,null,0,16,"button",[["class","item item-block"],["detail-none",""],["ion-item",""]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.goToDevicePage(n.context.$implicit)&&e}return e},Sn.b,Sn.a)),S.Y(6,1097728,[[5,4]],3,Pn.a,[Rn.a,rn.a,S.j,S.z,[2,Dn.a]],null,null),S._17(335544320,7,{contentLabel:0}),S._17(603979776,8,{_buttons:1}),S._17(603979776,9,{_icons:1}),S.Y(10,16384,null,0,qn.a,[],null,null),(n()(),S._19(-1,2,["\n        "])),(n()(),S.Z(12,0,null,0,1,"ion-icon",[["item-start",""],["large",""],["name","md-desktop"],["padding-left",""],["role","img"]],[[2,"hide",null]],null,null,null,null)),S.Y(13,147456,[[9,4]],0,Yn.a,[rn.a,S.j,S.z],{name:[0,"name"]},null),(n()(),S._19(-1,2,["\n        "])),(n()(),S.Z(15,0,null,2,4,"h2",[],null,null,null,null,null)),(n()(),S._19(-1,null,["\n          "])),(n()(),S.Z(17,0,null,null,1,"b",[],null,null,null,null,null)),(n()(),S._19(18,null,["",""])),(n()(),S._19(-1,null,["\n        "])),(n()(),S._19(-1,2,["\n        "])),(n()(),S._19(-1,2,["\n      "])),(n()(),S._19(-1,null,["\n      "])),(n()(),S.Z(23,0,null,1,9,"ion-item-options",[["side","left"]],null,null,null,null,null)),S.Y(24,16384,[[6,4]],0,Cn.a,[S.j,an.a],{side:[0,"side"]},null),(n()(),S._19(-1,null,["\n        "])),(n()(),S.Z(26,0,null,null,5,"button",[["clear",""],["icon-only",""],["ion-button",""]],null,[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.removeDevice(n.context.$implicit.id)&&e}return e},yn.b,yn.a)),S.Y(27,1097728,null,0,kn.a,[[8,""],rn.a,S.j,S.z],{clear:[0,"clear"]},null),(n()(),S._19(-1,0,["\n          "])),(n()(),S.Z(29,0,null,0,1,"ion-icon",[["color","danger"],["name","remove-circle"],["role","img"]],[[2,"hide",null]],null,null,null,null)),S.Y(30,147456,null,0,Yn.a,[rn.a,S.j,S.z],{color:[0,"color"],name:[1,"name"]},null),(n()(),S._19(-1,0,["\n        "])),(n()(),S._19(-1,null,["\n      "])),(n()(),S._19(-1,null,["\n    "]))],function(n,l){n(l,13,0,"md-desktop");n(l,24,0,"left");n(l,27,0,"");n(l,30,0,"danger","remove-circle")},function(n,l){n(l,5,0,!l.component.socket.connectionStatus);n(l,12,0,S._13(l,13)._hidden);n(l,18,0,l.context.$implicit);n(l,29,0,S._13(l,30)._hidden)})}function p(n){return S._21(0,[(n()(),S.Z(0,0,null,null,8,"div",[["margin-top",""],["text-center",""]],null,null,null,null,null)),(n()(),S._19(-1,null,["\n      "])),(n()(),S.Z(2,0,null,null,5,"button",[["ion-button",""]],null,[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.showAddDeviceDialog()&&e}return e},yn.b,yn.a)),S.Y(3,1097728,null,0,kn.a,[[8,""],rn.a,S.j,S.z],null,null),(n()(),S._19(-1,0,["\n        "])),(n()(),S.Z(5,0,null,0,1,"ion-icon",[["margin-right",""],["name","add"],["role","img"]],[[2,"hide",null]],null,null,null,null)),S.Y(6,147456,null,0,Yn.a,[rn.a,S.j,S.z],{name:[0,"name"]},null),(n()(),S._19(-1,0,["\n        Add a device\n      "])),(n()(),S._19(-1,null,["\n    "]))],function(n,l){n(l,6,0,"add")},function(n,l){n(l,5,0,S._13(l,6)._hidden)})}function g(n){return S._21(0,[(n()(),S.Z(0,0,null,null,40,"ion-header",[],null,null,null,null,null)),S.Y(1,16384,null,0,wn.a,[rn.a,S.j,S.z,[2,on.a]],null,null),(n()(),S._19(-1,null,["\n  "])),(n()(),S.Z(3,0,null,null,36,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,On.b,On.a)),S.Y(4,49152,null,0,Zn.a,[un.a,[2,on.a],[2,sn.a],rn.a,S.j,S.z],null,null),(n()(),S._19(-1,3,["\n    "])),(n()(),S.Z(6,0,null,3,20,"ion-title",[],null,null,null,zn.b,zn.a)),S.Y(7,49152,null,0,Ln.a,[rn.a,S.j,S.z,[2,An.a],[2,Zn.a]],null,null),(n()(),S._19(-1,0,["\n      "])),(n()(),S.Z(9,0,null,0,0,"img",[["src","assets/icon/icon.png"]],null,null,null,null,null)),(n()(),S._19(-1,0,["\n      "])),(n()(),S.Z(11,0,null,0,14,"div",[["class","custom-title"]],null,null,null,null,null)),(n()(),S._19(-1,null,["\n        "])),(n()(),S.Z(13,0,null,null,1,"span",[["class","header"]],null,null,null,null,null)),(n()(),S._19(-1,null,["Toshiba Tec Project"])),(n()(),S._19(-1,null,["\n        "])),(n()(),S.U(16777216,null,null,1,null,i)),S.Y(17,16384,null,0,_n.j,[S.I,S.F],{ngIf:[0,"ngIf"]},null),(n()(),S._19(-1,null,["\n        "])),(n()(),S.U(16777216,null,null,1,null,o)),S.Y(20,16384,null,0,_n.j,[S.I,S.F],{ngIf:[0,"ngIf"]},null),(n()(),S._19(-1,null,["\n        "])),(n()(),S._19(-1,null,["\n        "])),(n()(),S.U(16777216,null,null,1,null,a)),S.Y(24,16384,null,0,_n.j,[S.I,S.F],{ngIf:[0,"ngIf"]},null),(n()(),S._19(-1,null,["\n      "])),(n()(),S._19(-1,0,["\n    "])),(n()(),S._19(-1,3,["\n    "])),(n()(),S.Z(28,0,null,2,10,"ion-buttons",[["end",""]],null,null,null,null,null)),S.Y(29,16384,null,1,Nn.a,[rn.a,S.j,S.z,[2,An.a],[2,Zn.a]],null,null),S._17(603979776,1,{_buttons:1}),(n()(),S._19(-1,null,["\n      "])),(n()(),S.Z(32,0,null,null,5,"button",[["icon-only",""],["ion-button",""]],null,[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.presentPopover(t)&&e}return e},yn.b,yn.a)),S.Y(33,1097728,[[1,4]],0,kn.a,[[8,""],rn.a,S.j,S.z],null,null),(n()(),S._19(-1,0,["\n        "])),(n()(),S.Z(35,0,null,0,1,"ion-icon",[["name","more"],["role","img"]],[[2,"hide",null]],null,null,null,null)),S.Y(36,147456,null,0,Yn.a,[rn.a,S.j,S.z],{name:[0,"name"]},null),(n()(),S._19(-1,0,["\n      "])),(n()(),S._19(-1,null,["\n    "])),(n()(),S._19(-1,3,["\n  "])),(n()(),S._19(-1,null,["\n"])),(n()(),S._19(-1,null,["\n\n"])),(n()(),S.Z(42,0,null,null,26,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,xn.b,xn.a)),S.Y(43,4374528,null,0,En.a,[rn.a,an.a,pn.a,S.j,S.z,un.a,Un.a,S.u,[2,on.a],[2,sn.a]],null,null),(n()(),S._19(-1,1,["\n  "])),(n()(),S.Z(45,0,null,1,22,"ion-list",[],null,null,null,null,null)),S.Y(46,16384,null,0,In.a,[rn.a,S.j,S.z,an.a,cn.l,pn.a],null,null),(n()(),S._19(-1,null,["\n    "])),(n()(),S.Z(48,0,null,null,12,"ion-list-header",[["class","item"],["color","light"]],null,null,null,Sn.b,Sn.a)),S.Y(49,1097728,null,3,Pn.a,[Rn.a,rn.a,S.j,S.z,[2,Dn.a]],{color:[0,"color"]},null),S._17(335544320,2,{contentLabel:0}),S._17(603979776,3,{_buttons:1}),S._17(603979776,4,{_icons:1}),S.Y(53,16384,null,0,Fn.a,[rn.a,S.z,S.j,[8,null]],{color:[0,"color"]},null),(n()(),S._19(-1,2,["\n      Main Controller List\n      "])),(n()(),S.U(16777216,null,4,1,null,c)),S.Y(56,16384,null,0,_n.j,[S.I,S.F],{ngIf:[0,"ngIf"]},null),(n()(),S._19(-1,2,["\n      "])),(n()(),S.U(16777216,null,4,1,null,h)),S.Y(59,16384,null,0,_n.j,[S.I,S.F],{ngIf:[0,"ngIf"]},null),(n()(),S._19(-1,2,["\n    "])),(n()(),S._19(-1,null,["\n    "])),(n()(),S.U(16777216,null,null,1,null,d)),S.Y(63,802816,null,0,_n.i,[S.I,S.F,S.p],{ngForOf:[0,"ngForOf"]},null),(n()(),S._19(-1,null,["\n    "])),(n()(),S.U(16777216,null,null,1,null,p)),S.Y(66,16384,null,0,_n.j,[S.I,S.F],{ngIf:[0,"ngIf"]},null),(n()(),S._19(-1,null,["\n  "])),(n()(),S._19(-1,1,["\n"]))],function(n,l){var t=l.component;n(l,17,0,0==t.mqtt.mqttRegisteredBrokerList.length);n(l,20,0,t.mqtt.mqttRegisteredBrokerList.length>0&&!t.mqtt.mqttUrl);n(l,24,0,t.mqtt.mqttRegisteredBrokerList.length>0&&t.mqtt.mqttUrl);n(l,36,0,"more");n(l,49,0,"light");n(l,53,0,"light");n(l,56,0,t.isLoading);n(l,59,0,!t.isLoading);n(l,63,0,t.devices);n(l,66,0,!t.isLoading)},function(n,l){n(l,3,0,S._13(l,4)._hidden,S._13(l,4)._sbPadding);n(l,35,0,S._13(l,36)._hidden);n(l,42,0,S._13(l,43).statusbarPadding,S._13(l,43)._hasRefresher)})}function f(n){return S._21(0,[(n()(),S._19(-1,null,["\n    "])),(n()(),S.Z(1,0,null,null,24,"ion-list",[],null,null,null,null,null)),S.Y(2,16384,null,0,In.a,[rn.a,S.j,S.z,an.a,cn.l,pn.a],null,null),(n()(),S._19(-1,null,["\n    "])),(n()(),S.Z(4,0,null,null,9,"button",[["class","item item-block"],["detail-none",""],["ion-item",""]],null,[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.goToSettingsPage()&&e}return e},Sn.b,Sn.a)),S.Y(5,1097728,null,3,Pn.a,[Rn.a,rn.a,S.j,S.z,[2,Dn.a]],null,null),S._17(335544320,1,{contentLabel:0}),S._17(603979776,2,{_buttons:1}),S._17(603979776,3,{_icons:1}),S.Y(9,16384,null,0,qn.a,[],null,null),(n()(),S._19(-1,2,["\n      "])),(n()(),S.Z(11,0,null,2,1,"ion-icon",[["margin-right",""],["name","build"],["role","img"]],[[2,"hide",null]],null,null,null,null)),S.Y(12,147456,[[3,4]],0,Yn.a,[rn.a,S.j,S.z],{name:[0,"name"]},null),(n()(),S._19(-1,2,["\n      Settings\n    "])),(n()(),S._19(-1,null,["\n      "])),(n()(),S.Z(15,0,null,null,9,"button",[["class","item item-block"],["detail-none",""],["ion-item",""]],null,[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.logout()&&e}return e},Sn.b,Sn.a)),S.Y(16,1097728,null,3,Pn.a,[Rn.a,rn.a,S.j,S.z,[2,Dn.a]],null,null),S._17(335544320,4,{contentLabel:0}),S._17(603979776,5,{_buttons:1}),S._17(603979776,6,{_icons:1}),S.Y(20,16384,null,0,qn.a,[],null,null),(n()(),S._19(-1,2,["\n        "])),(n()(),S.Z(22,0,null,2,1,"ion-icon",[["margin-right",""],["name","exit"],["role","img"]],[[2,"hide",null]],null,null,null,null)),S.Y(23,147456,[[6,4]],0,Yn.a,[rn.a,S.j,S.z],{name:[0,"name"]},null),(n()(),S._19(-1,2,["\n        Logout\n      "])),(n()(),S._19(-1,null,["\n    "])),(n()(),S._19(-1,null,["\n  "]))],function(n,l){n(l,12,0,"build");n(l,23,0,"exit")},function(n,l){n(l,11,0,S._13(l,12)._hidden);n(l,22,0,S._13(l,23)._hidden)})}function m(n){return S._21(0,[(n()(),S.Z(0,0,null,null,11,"ion-fab",[["bottom",""],["right",""]],null,null,null,Jn.b,Jn.a)),S.Y(1,1228800,null,2,Wn.a,[an.a],null,null),S._17(335544320,2,{_mainButton:0}),S._17(603979776,3,{_fabLists:1}),(n()(),S._19(-1,0,["\n    "])),(n()(),S.Z(5,0,null,0,5,"button",[["color","secondary"],["ion-fab",""]],null,[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==S._13(n.parent,3).scrollToBottom()&&e}return e},Qn.b,Qn.a)),S.Y(6,49152,[[2,4]],0,Xn.a,[rn.a,S.j,S.z],{color:[0,"color"]},null),(n()(),S._19(-1,0,["\n      "])),(n()(),S.Z(8,0,null,0,1,"ion-icon",[["name","ios-arrow-down"],["role","img"]],[[2,"hide",null]],null,null,null,null)),S.Y(9,147456,null,0,Yn.a,[rn.a,S.j,S.z],{name:[0,"name"]},null),(n()(),S._19(-1,0,["\n    "])),(n()(),S._19(-1,0,["\n  "]))],function(n,l){n(l,6,0,"secondary");n(l,9,0,"ios-arrow-down")},function(n,l){n(l,8,0,S._13(l,9)._hidden)})}function _(n){return S._21(0,[(n()(),S.Z(0,0,null,null,18,"ion-item",[["class","item item-block"],["color","lighter-custom"]],null,null,null,Sn.b,Sn.a)),S.Y(1,1097728,null,3,Pn.a,[Rn.a,rn.a,S.j,S.z,[2,Dn.a]],{color:[0,"color"]},null),S._17(335544320,4,{contentLabel:0}),S._17(603979776,5,{_buttons:1}),S._17(603979776,6,{_icons:1}),S.Y(5,16384,null,0,qn.a,[],null,null),(n()(),S._19(-1,2,["\n      "])),(n()(),S.Z(7,0,null,2,1,"small",[],null,null,null,null,null)),(n()(),S._19(8,null,["",""])),(n()(),S._19(-1,2,["\n      "])),(n()(),S.Z(10,0,null,2,4,"h2",[],null,null,null,null,null)),(n()(),S._19(-1,null,["\n        "])),(n()(),S.Z(12,0,null,null,1,"b",[],null,null,null,null,null)),(n()(),S._19(13,null,["",""])),(n()(),S._19(-1,null,["\n      "])),(n()(),S._19(-1,2,["\n      "])),(n()(),S.Z(16,0,null,2,1,"p",[["text-wrap",""]],null,null,null,null,null)),(n()(),S._19(17,null,["",""])),(n()(),S._19(-1,2,["\n    "]))],function(n,l){n(l,1,0,"lighter-custom")},function(n,l){n(l,8,0,l.context.$implicit.timestamp);n(l,13,0,l.context.$implicit.destinationName);n(l,17,0,l.context.$implicit.payloadString)})}function b(n){return S._21(0,[S._17(402653184,1,{content:0}),(n()(),S._19(-1,null,["\n\n"])),(n()(),S.Z(2,0,null,null,12,"ion-content",[["padding-bottom",""]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,xn.b,xn.a)),S.Y(3,4374528,[[1,4],["content",4]],0,En.a,[rn.a,an.a,pn.a,S.j,S.z,un.a,Un.a,S.u,[2,on.a],[2,sn.a]],null,null),(n()(),S._19(-1,1,["\n  "])),(n()(),S.U(16777216,null,0,1,null,m)),S.Y(6,16384,null,0,_n.j,[S.I,S.F],{ngIf:[0,"ngIf"]},null),(n()(),S._19(-1,1,["\n  "])),(n()(),S.Z(8,0,null,1,5,"ion-list",[],null,null,null,null,null)),S.Y(9,16384,null,0,In.a,[rn.a,S.j,S.z,an.a,cn.l,pn.a],null,null),(n()(),S._19(-1,null,["\n    "])),(n()(),S.U(16777216,null,null,1,null,_)),S.Y(12,802816,null,0,_n.i,[S.I,S.F,S.p],{ngForOf:[0,"ngForOf"]},null),(n()(),S._19(-1,null,["\n  "])),(n()(),S._19(-1,1,["\n"]))],function(n,l){var t=l.component;n(l,6,0,t.logs.length>0);n(l,12,0,t.logs)},function(n,l){n(l,2,0,S._13(l,3).statusbarPadding,S._13(l,3)._hasRefresher)})}function v(n){return S._21(0,[(n()(),S.Z(0,0,null,null,1,"ion-spinner",[["item-end",""]],[[2,"spinner-paused",null]],null,null,bn.b,bn.a)),S.Y(1,114688,null,0,vn.a,[rn.a,S.j,S.z],null,null)],function(n,l){n(l,1,0)},function(n,l){n(l,0,0,S._13(l,1)._paused)})}function y(n){return S._21(0,[(n()(),S.Z(0,0,null,null,30,"ion-item",[["class","item item-block"],["no-lines",""],["padding",""]],null,null,null,Sn.b,Sn.a)),S.Y(1,1097728,null,3,Pn.a,[Rn.a,rn.a,S.j,S.z,[2,Dn.a]],null,null),S._17(335544320,4,{contentLabel:0}),S._17(603979776,5,{_buttons:1}),S._17(603979776,6,{_icons:1}),S.Y(5,16384,null,0,qn.a,[],null,null),(n()(),S._19(-1,2,["\n    "])),(n()(),S._19(-1,2,["\n    "])),(n()(),S.Z(8,0,null,2,1,"h1",[["class","title"]],null,null,null,null,null)),(n()(),S._19(9,null,["",""])),(n()(),S._19(-1,2,["\n    "])),(n()(),S.Z(11,0,null,2,2,"ion-badge",[],null,null,null,null,null)),S.Y(12,16384,null,0,el.a,[rn.a,S.j,S.z],{color:[0,"color"]},null),(n()(),S._19(13,null,["",""])),(n()(),S._19(-1,2,["\n    "])),(n()(),S.Z(15,0,null,2,1,"p",[],null,null,null,null,null)),(n()(),S._19(16,null,["Firmware Version: ",""])),(n()(),S._19(-1,2,["\n    "])),(n()(),S.Z(18,0,null,2,1,"p",[],null,null,null,null,null)),(n()(),S._19(19,null,["IP Address: ",""])),(n()(),S._19(-1,2,["\n    "])),(n()(),S.Z(21,0,null,2,1,"p",[],null,null,null,null,null)),(n()(),S._19(22,null,["Last Seen: ",""])),(n()(),S._19(-1,2,["\n    "])),(n()(),S.Z(24,0,null,2,1,"p",[],null,null,null,null,null)),(n()(),S._19(25,null,["Last Reboot: ",""])),(n()(),S._19(-1,2,["\n    "])),(n()(),S._19(-1,2,["\n    "])),(n()(),S.U(16777216,null,4,1,null,v)),S.Y(29,16384,null,0,_n.j,[S.I,S.F],{ngIf:[0,"ngIf"]},null),(n()(),S._19(-1,2,["\n  "]))],function(n,l){var t=l.component;n(l,12,0,t.device.status?"secondary":"danger");n(l,29,0,t.pingInProgress)},function(n,l){var t=l.component;n(l,9,0,t.device.id);n(l,13,0,t.device.status?"Online":"Offline");n(l,16,0,t.device.fv?t.device.fv:"--");n(l,19,0,t.device.ip?t.device.ip:"--");n(l,22,0,t.device.lastSeen?t.device.lastSeen:"--");n(l,25,0,t.device.lastReboot?t.device.lastReboot:"--")})}function k(n){return S._21(0,[(n()(),S.Z(0,0,null,null,2,"ion-note",[["float-right",""]],null,null,null,null,null)),S.Y(1,16384,null,0,il.a,[rn.a,S.j,S.z],{color:[0,"color"]},null),(n()(),S._19(2,null,["",""]))],function(n,l){n(l,1,0,l.parent.context.$implicit.isOnline?"secondary":"danger")},function(n,l){n(l,2,0,l.parent.context.$implicit.isOnline?"Online":"Offline")})}function j(n){return S._21(0,[(n()(),S.Z(0,0,null,null,70,"ion-col",[["class","sensors col"],["col-12",""],["col-lg-3",""],["col-md-4",""],["col-sm-6",""]],null,null,null,null,null)),S.Y(1,278528,null,0,_n.h,[S.p,S.q,S.j,S.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),S._15(2,{hidden:0}),S.Y(3,16384,null,0,ol.a,[],null,null),(n()(),S._19(-1,null,["\n        "])),(n()(),S.Z(5,0,null,null,64,"ion-card",[],null,null,null,null,null)),S.Y(6,278528,null,0,_n.h,[S.p,S.q,S.j,S.A],{ngClass:[0,"ngClass"]},null),S._15(7,{dim:0}),S.Y(8,16384,null,0,sl.a,[rn.a,S.j,S.z],null,null),(n()(),S._19(-1,null,["\n          "])),(n()(),S.Z(10,0,null,null,11,"ion-card-header",[],null,null,null,null,null)),S.Y(11,16384,null,0,ul.a,[rn.a,S.j,S.z],null,null),(n()(),S._19(-1,null,["\n            "])),(n()(),S.Z(13,0,null,null,1,"b",[],null,null,null,null,null)),(n()(),S._19(14,null,["Sensor ",""])),(n()(),S._19(-1,null,["\n            "])),(n()(),S.U(16777216,null,null,1,null,k)),S.Y(17,16384,null,0,_n.j,[S.I,S.F],{ngIf:[0,"ngIf"]},null),(n()(),S._19(-1,null,["\n            "])),(n()(),S.Z(19,0,null,null,1,"p",[["style","color:#777"]],null,null,null,null,null)),(n()(),S._19(20,null,["",""])),(n()(),S._19(-1,null,["\n          "])),(n()(),S._19(-1,null,["\n          "])),(n()(),S.Z(23,0,null,null,17,"ion-card-content",[],null,null,null,null,null)),S.Y(24,16384,null,0,rl.a,[rn.a,S.j,S.z],null,null),(n()(),S._19(-1,null,["\n            "])),(n()(),S.Z(26,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),S._19(27,null,["Type: ",""])),(n()(),S._19(-1,null,["\n            "])),(n()(),S.Z(29,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),S._19(30,null,["RFID: ",""])),(n()(),S._19(-1,null,["\n            "])),(n()(),S.Z(32,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),S._19(33,null,["Weight: ",""])),(n()(),S._19(-1,null,["\n            "])),(n()(),S.Z(35,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),S._19(36,null,["Button: ",""])),(n()(),S._19(-1,null,["\n            "])),(n()(),S.Z(38,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),S._19(39,null,["Proximity: ",""])),(n()(),S._19(-1,null,["\n          "])),(n()(),S._19(-1,null,["\n          "])),(n()(),S.Z(42,0,null,null,26,"ion-row",[["class","row"]],null,null,null,null,null)),S.Y(43,16384,null,0,al.a,[],null,null),(n()(),S._19(-1,null,["\n            "])),(n()(),S.Z(45,0,null,null,6,"ion-col",[["class","col"],["text-center",""]],null,null,null,null,null)),S.Y(46,16384,null,0,ol.a,[],null,null),(n()(),S._19(-1,null,["\n              "])),(n()(),S.Z(48,0,null,null,2,"button",[["clear",""],["ion-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.overrideLED(n.context.$implicit,"ON")&&e}return e},yn.b,yn.a)),S.Y(49,1097728,null,0,kn.a,[[8,""],rn.a,S.j,S.z],{clear:[0,"clear"]},null),(n()(),S._19(-1,0,["\n                On\n              "])),(n()(),S._19(-1,null,["\n            "])),(n()(),S._19(-1,null,["\n            "])),(n()(),S.Z(53,0,null,null,6,"ion-col",[["class","col"],["text-center",""]],null,null,null,null,null)),S.Y(54,16384,null,0,ol.a,[],null,null),(n()(),S._19(-1,null,["\n              "])),(n()(),S.Z(56,0,null,null,2,"button",[["clear",""],["ion-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.overrideLED(n.context.$implicit,"OFF")&&e}return e},yn.b,yn.a)),S.Y(57,1097728,null,0,kn.a,[[8,""],rn.a,S.j,S.z],{clear:[0,"clear"]},null),(n()(),S._19(-1,0,["\n                Off\n              "])),(n()(),S._19(-1,null,["\n            "])),(n()(),S._19(-1,null,["\n            "])),(n()(),S.Z(61,0,null,null,6,"ion-col",[["class","col"],["text-center",""]],null,null,null,null,null)),S.Y(62,16384,null,0,ol.a,[],null,null),(n()(),S._19(-1,null,["\n              "])),(n()(),S.Z(64,0,null,null,2,"button",[["ion-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.overrideLED(n.context.$implicit,"BLINK")&&e}return e},yn.b,yn.a)),S.Y(65,1097728,null,0,kn.a,[[8,""],rn.a,S.j,S.z],null,null),(n()(),S._19(-1,0,["\n                Blink\n              "])),(n()(),S._19(-1,null,["\n            "])),(n()(),S._19(-1,null,["\n          "])),(n()(),S._19(-1,null,["\n        "])),(n()(),S._19(-1,null,["\n      "]))],function(n,l){var t=l.component;n(l,1,0,"sensors",n(l,2,0,!l.context.$implicit.isOnline&&!t.forceShow));n(l,6,0,n(l,7,0,!l.context.$implicit.isOnline));n(l,17,0,!t.refreshInProgress);n(l,49,0,"");n(l,57,0,"")},function(n,l){n(l,14,0,l.context.$implicit.pos);n(l,20,0,l.context.$implicit.fv?"v"+l.context.$implicit.fv:"--");n(l,27,0,l.context.$implicit.type?l.context.$implicit.type:"--");n(l,30,0,l.context.$implicit.currentRFID?l.context.$implicit.currentRFID:"--");n(l,33,0,l.context.$implicit.weight?l.context.$implicit.weight:"--");n(l,36,0,l.context.$implicit.button?l.context.$implicit.button:"--");n(l,39,0,l.context.$implicit.proximity?l.context.$implicit.proximity:"--");n(l,48,0,!l.context.$implicit.isOnline);n(l,56,0,!l.context.$implicit.isOnline);n(l,64,0,!l.context.$implicit.isOnline)})}function T(n){return S._21(0,[S._17(402653184,1,{content:0}),(n()(),S._19(-1,null,["\n\n"])),(n()(),S.Z(2,0,null,null,129,"ion-content",[["padding-bottom",""]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,xn.b,xn.a)),S.Y(3,4374528,[[1,4],["info",4]],0,En.a,[rn.a,an.a,pn.a,S.j,S.z,un.a,Un.a,S.u,[2,on.a],[2,sn.a]],null,null),(n()(),S._19(-1,1,["\n  "])),(n()(),S.Z(5,0,null,0,11,"ion-fab",[["bottom",""],["right",""]],null,null,null,Jn.b,Jn.a)),S.Y(6,1228800,null,2,Wn.a,[an.a],null,null),S._17(335544320,2,{_mainButton:0}),S._17(603979776,3,{_fabLists:1}),(n()(),S._19(-1,0,["\n    "])),(n()(),S.Z(10,0,null,0,5,"button",[["color","secondary"],["ion-fab",""]],null,[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.scroll()&&e}return e},Qn.b,Qn.a)),S.Y(11,49152,[[2,4]],0,Xn.a,[rn.a,S.j,S.z],{color:[0,"color"]},null),(n()(),S._19(-1,0,["\n      "])),(n()(),S.Z(13,0,null,0,1,"ion-icon",[["role","img"]],[[2,"hide",null]],null,null,null,null)),S.Y(14,147456,null,0,Yn.a,[rn.a,S.j,S.z],{name:[0,"name"]},null),(n()(),S._19(-1,0,["\n    "])),(n()(),S._19(-1,0,["\n  "])),(n()(),S._19(-1,1,["\n  "])),(n()(),S.U(16777216,null,1,1,null,y)),S.Y(19,16384,null,0,_n.j,[S.I,S.F],{ngIf:[0,"ngIf"]},null),(n()(),S._19(-1,1,["\n  "])),(n()(),S.Z(21,0,null,1,26,"ion-row",[["class","row"]],null,null,null,null,null)),S.Y(22,16384,null,0,al.a,[],null,null),(n()(),S._19(-1,null,["\n    "])),(n()(),S.Z(24,0,null,null,6,"ion-col",[["class","col"],["text-center",""]],null,null,null,null,null)),S.Y(25,16384,null,0,ol.a,[],null,null),(n()(),S._19(-1,null,["\n      "])),(n()(),S.Z(27,0,null,null,2,"button",[["clear",""],["ion-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.ping()&&e}return e},yn.b,yn.a)),S.Y(28,1097728,null,0,kn.a,[[8,""],rn.a,S.j,S.z],{clear:[0,"clear"]},null),(n()(),S._19(-1,0,["\n        Ping\n      "])),(n()(),S._19(-1,null,["\n    "])),(n()(),S._19(-1,null,["\n    "])),(n()(),S.Z(32,0,null,null,6,"ion-col",[["class","col"],["text-center",""]],null,null,null,null,null)),S.Y(33,16384,null,0,ol.a,[],null,null),(n()(),S._19(-1,null,["\n      "])),(n()(),S.Z(35,0,null,null,2,"button",[["clear",""],["ion-button",""]],null,[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.refresh()&&e}return e},yn.b,yn.a)),S.Y(36,1097728,null,0,kn.a,[[8,""],rn.a,S.j,S.z],{clear:[0,"clear"]},null),(n()(),S._19(-1,0,["\n        Refresh\n      "])),(n()(),S._19(-1,null,["\n    "])),(n()(),S._19(-1,null,["\n    "])),(n()(),S.Z(40,0,null,null,6,"ion-col",[["class","col"],["text-center",""]],null,null,null,null,null)),S.Y(41,16384,null,0,ol.a,[],null,null),(n()(),S._19(-1,null,["\n      "])),(n()(),S.Z(43,0,null,null,2,"button",[["color","danger"],["ion-button",""]],null,[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.reboot()&&e}return e},yn.b,yn.a)),S.Y(44,1097728,null,0,kn.a,[[8,""],rn.a,S.j,S.z],{color:[0,"color"]},null),(n()(),S._19(-1,0,["\n        Reboot\n      "])),(n()(),S._19(-1,null,["\n    "])),(n()(),S._19(-1,null,["\n  "])),(n()(),S._19(-1,1,["\n  "])),(n()(),S.Z(49,0,null,1,81,"ion-list",[],null,null,null,null,null)),S.Y(50,16384,null,0,In.a,[rn.a,S.j,S.z,an.a,cn.l,pn.a],null,null),(n()(),S._19(-1,null,["\n    "])),(n()(),S.Z(52,0,null,null,10,"ion-item-divider",[["class","item item-divider"],["color","light"]],null,null,null,Sn.b,Sn.a)),S.Y(53,1097728,null,3,Pn.a,[Rn.a,rn.a,S.j,S.z,[2,Dn.a]],{color:[0,"color"]},null),S._17(335544320,7,{contentLabel:0}),S._17(603979776,8,{_buttons:1}),S._17(603979776,9,{_icons:1}),S.Y(57,16384,null,0,cl.a,[rn.a,S.j,S.z],{color:[0,"color"]},null),(n()(),S._19(-1,2,["Sensors\n      "])),(n()(),S.Z(59,0,null,4,2,"button",[["clear",""],["ion-button",""],["item-end",""]],null,[[null,"click"]],function(n,l,t){var e=!0,i=n.component;if("click"===l){e=!1!=(i.forceShow=!i.forceShow)&&e}return e},yn.b,yn.a)),S.Y(60,1097728,[[8,4]],0,kn.a,[[8,""],rn.a,S.j,S.z],{clear:[0,"clear"]},null),(n()(),S._19(61,0,["\n        ","\n      "])),(n()(),S._19(-1,2,["\n    "])),(n()(),S._19(-1,null,["\n    "])),(n()(),S.Z(64,0,null,null,5,"ion-row",[["class","row"]],null,null,null,null,null)),S.Y(65,16384,null,0,al.a,[],null,null),(n()(),S._19(-1,null,["\n      "])),(n()(),S.U(16777216,null,null,1,null,j)),S.Y(68,802816,null,0,_n.i,[S.I,S.F,S.p],{ngForOf:[0,"ngForOf"]},null),(n()(),S._19(-1,null,["\n    "])),(n()(),S._19(-1,null,["\n    "])),(n()(),S._19(-1,null,["\n    "])),(n()(),S.Z(72,0,null,null,6,"ion-item-divider",[["class","item item-divider"],["color","light"]],null,null,null,Sn.b,Sn.a)),S.Y(73,1097728,null,3,Pn.a,[Rn.a,rn.a,S.j,S.z,[2,Dn.a]],{color:[0,"color"]},null),S._17(335544320,10,{contentLabel:0}),S._17(603979776,11,{_buttons:1}),S._17(603979776,12,{_icons:1}),S.Y(77,16384,null,0,cl.a,[rn.a,S.j,S.z],{color:[0,"color"]},null),(n()(),S._19(-1,2,["Set Interval"])),(n()(),S._19(-1,null,["\n    "])),(n()(),S.Z(80,0,null,null,48,"ion-item-group",[["padding-bottom",""]],null,null,null,null,null)),S.Y(81,16384,null,0,hl.a,[],null,null),(n()(),S._19(-1,null,["\n      "])),(n()(),S.Z(83,0,null,null,1,"p",[["padding-left",""],["style","font-size: 1.6rem"]],null,null,null,null,null)),(n()(),S._19(-1,null,["Set the packet delay and MQTT publish interval for the device.\n      "])),(n()(),S._19(-1,null,["\n      "])),(n()(),S.Z(86,0,null,null,16,"ion-item",[["class","item item-block"]],null,null,null,Sn.b,Sn.a)),S.Y(87,1097728,null,3,Pn.a,[Rn.a,rn.a,S.j,S.z,[2,Dn.a]],null,null),S._17(335544320,13,{contentLabel:0}),S._17(603979776,14,{_buttons:1}),S._17(603979776,15,{_icons:1}),S.Y(91,16384,null,0,qn.a,[],null,null),(n()(),S._19(-1,2,["\n        "])),(n()(),S.Z(93,0,null,1,2,"ion-label",[["stacked",""]],null,null,null,null,null)),S.Y(94,16384,[[13,4]],0,dl.a,[rn.a,S.j,S.z,[8,null],[8,""],[8,null],[8,null]],null,null),(n()(),S._19(-1,null,["Packet Delay (ms)"])),(n()(),S._19(-1,2,["\n        "])),(n()(),S.Z(97,0,null,3,4,"ion-input",[["placeholder","e.g 50 (50ms)"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,l,t){var e=!0;if("ngModelChange"===l){e=!1!==(n.component.device.intervals.PACKET_INTERVAL=t)&&e}return e},pl.b,pl.a)),S.Y(98,671744,null,0,gl.l,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),S._16(2048,null,gl.i,null,[gl.l]),S.Y(100,16384,null,0,gl.j,[gl.i],null,null),S.Y(101,5423104,null,0,fl.a,[rn.a,an.a,Rn.a,un.a,S.j,S.z,[2,En.a],[2,Pn.a],[2,gl.i],pn.a],{type:[0,"type"],placeholder:[1,"placeholder"]},null),(n()(),S._19(-1,2,["\n      "])),(n()(),S._19(-1,null,["\n      "])),(n()(),S.Z(104,0,null,null,16,"ion-item",[["class","item item-block"]],null,null,null,Sn.b,Sn.a)),S.Y(105,1097728,null,3,Pn.a,[Rn.a,rn.a,S.j,S.z,[2,Dn.a]],null,null),S._17(335544320,16,{contentLabel:0}),S._17(603979776,17,{_buttons:1}),S._17(603979776,18,{_icons:1}),S.Y(109,16384,null,0,qn.a,[],null,null),(n()(),S._19(-1,2,["\n        "])),(n()(),S.Z(111,0,null,1,2,"ion-label",[["stacked",""]],null,null,null,null,null)),S.Y(112,16384,[[16,4]],0,dl.a,[rn.a,S.j,S.z,[8,null],[8,""],[8,null],[8,null]],null,null),(n()(),S._19(-1,null,["Publish Interval (ms)"])),(n()(),S._19(-1,2,["\n        "])),(n()(),S.Z(115,0,null,3,4,"ion-input",[["placeholder","e.g 10000 (10 seconds)"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,l,t){var e=!0;if("ngModelChange"===l){e=!1!==(n.component.device.intervals.PUB_INTERVAL=t)&&e}return e},pl.b,pl.a)),S.Y(116,671744,null,0,gl.l,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),S._16(2048,null,gl.i,null,[gl.l]),S.Y(118,16384,null,0,gl.j,[gl.i],null,null),S.Y(119,5423104,null,0,fl.a,[rn.a,an.a,Rn.a,un.a,S.j,S.z,[2,En.a],[2,Pn.a],[2,gl.i],pn.a],{type:[0,"type"],placeholder:[1,"placeholder"]},null),(n()(),S._19(-1,2,["\n      "])),(n()(),S._19(-1,null,["\n      "])),(n()(),S.Z(122,0,null,null,5,"div",[["margin-top",""],["text-center",""]],null,null,null,null,null)),(n()(),S._19(-1,null,["\n        "])),(n()(),S.Z(124,0,null,null,2,"button",[["class","btn-special"],["color","custom"],["ion-button",""],["large",""]],null,[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.setIntervals()&&e}return e},yn.b,yn.a)),S.Y(125,1097728,null,0,kn.a,[[8,""],rn.a,S.j,S.z],{color:[0,"color"],large:[1,"large"]},null),(n()(),S._19(-1,0,["\n          Set\n        "])),(n()(),S._19(-1,null,["\n      "])),(n()(),S._19(-1,null,["\n    "])),(n()(),S._19(-1,null,["\n    "])),(n()(),S._19(-1,null,["\n  "])),(n()(),S._19(-1,1,["\n"]))],function(n,l){var t=l.component;n(l,11,0,"secondary");n(l,14,0,"ios-arrow-"+t.scrolling);n(l,19,0,t.device.id);n(l,28,0,"");n(l,36,0,"");n(l,44,0,"danger");n(l,53,0,"light");n(l,57,0,"light");n(l,60,0,"");n(l,68,0,t.sensors);n(l,73,0,"light");n(l,77,0,"light");n(l,98,0,t.device.intervals.PACKET_INTERVAL);n(l,101,0,"text","e.g 50 (50ms)");n(l,116,0,t.device.intervals.PUB_INTERVAL);n(l,119,0,"text","e.g 10000 (10 seconds)");n(l,125,0,"custom","")},function(n,l){var t=l.component;n(l,2,0,S._13(l,3).statusbarPadding,S._13(l,3)._hasRefresher);n(l,13,0,S._13(l,14)._hidden);n(l,27,0,t.pingInProgress);n(l,61,0,t.forceShow?"Show Online Only":"Show All");n(l,97,0,S._13(l,100).ngClassUntouched,S._13(l,100).ngClassTouched,S._13(l,100).ngClassPristine,S._13(l,100).ngClassDirty,S._13(l,100).ngClassValid,S._13(l,100).ngClassInvalid,S._13(l,100).ngClassPending);n(l,115,0,S._13(l,118).ngClassUntouched,S._13(l,118).ngClassTouched,S._13(l,118).ngClassPristine,S._13(l,118).ngClassDirty,S._13(l,118).ngClassValid,S._13(l,118).ngClassInvalid,S._13(l,118).ngClassPending)})}Object.defineProperty(l,"__esModule",{value:!0});var I=t(44),S=t(0),P=(t(5),t(70)),R=t(71),D=(t(20),t(112)),q=t(113),Y=t(54),C=t(394),w=t(29),O=t(67),Z=t(39),z=t(360),L=(t(391),t(40)),A=t(122),N=function(){return function(n,l,t,e,i,o,s,u){var r=this;this.socket=e,this.auth=i,this.mqtt=o,this.events=s,this.push=u,this.rootPage="",n.ready().then(function(){n.is("core")&&z.initializeApp(C.c),n.is("mobile")&&l.styleDefault(),n.is("mobile")?r.push.init():r.push.initDesktop(),r.auth.checkAuthentication().then(function(l){l?(r.events.publish("user:login"),r.rootPage=A.a):r.rootPage="LoginPage",n.is("mobile")&&t.hide()})})}}(),x=t(163),E=t(164),U=t(79),F=(t(409),t(177)),B=t(178),M=function(){return function(){}}(),H=t(72),V=t(397),$=t(398),G=t(399),K=t(400),J=t(401),W=t(402),Q=t(403),X=t(404),nn=t(405),ln=t(526),tn=t(50),en=t(77),on=t(7),sn=t(22),un=t(9),rn=t(3),an=t(6),cn=t(8),hn=t(34),dn=t(23),pn=t(12),gn=t(61),fn=S.X({encapsulation:2,styles:[],data:{}}),mn=S.V("ng-component",N,function(n){return S._21(0,[(n()(),S.Z(0,0,null,null,1,"ng-component",[],null,null,null,e,fn)),S.Y(1,49152,null,0,N,[an.a,q.a,D.a,L.a,Z.a,w.a,gn.a,O.a],null,null)],null,null)},{},{},[]),_n=t(16),bn=t(141),vn=t(66),yn=t(35),kn=t(24),jn=t(527),Tn=t(94),In=t(42),Sn=t(84),Pn=t(18),Rn=t(17),Dn=t(41),qn=t(60),Yn=t(32),Cn=t(93),wn=t(116),On=t(406),Zn=t(43),zn=t(407),Ln=t(85),An=t(57),Nn=t(159),xn=t(115),En=t(25),Un=t(33),Fn=t(96),Bn=t(103),Mn=t(140),Hn=t(90),Vn=S.X({encapsulation:2,styles:[],data:{}}),$n=S.V("page-home",A.a,function(n){return S._21(0,[(n()(),S.Z(0,0,null,null,1,"page-home",[],null,null,null,g,Vn)),S.Y(1,49152,null,0,A.a,[sn.a,Bn.a,w.a,L.a,Z.a,an.a,Mn.a,Hn.a,P.a,U.a,O.a],null,null)],null,null)},{},{},[]),Gn=S.X({encapsulation:2,styles:[],data:{}}),Kn=S.V("ng-component",A.b,function(n){return S._21(0,[(n()(),S.Z(0,0,null,null,1,"ng-component",[],null,null,null,f,Gn)),S.Y(1,49152,null,0,A.b,[on.a,Z.a,un.a,L.a],null,null)],null,null)},{},{},[]),Jn=t(395),Wn=t(76),Qn=t(396),Xn=t(53),nl=t(14),ll=S.X({encapsulation:2,styles:[],data:{}}),tl=S.V("page-device-console",F.a,function(n){return S._21(0,[(n()(),S.Z(0,0,null,null,1,"page-device-console",[],null,null,null,b,ll)),S.Y(1,49152,null,0,F.a,[sn.a,nl.a,gn.a,w.a],null,null)],null,null)},{},{},[]),el=t(117),il=t(149),ol=t(118),sl=t(133),ul=t(135),rl=t(134),al=t(119),cl=t(120),hl=t(121),dl=t(59),pl=t(408),gl=t(21),fl=t(82),ml=S.X({encapsulation:2,styles:[],data:{}}),_l=S.V("page-device-info",B.a,function(n){return S._21(0,[(n()(),S.Z(0,0,null,null,1,"page-device-info",[],null,null,null,T,ml)),S.Y(1,49152,null,0,B.a,[sn.a,nl.a,w.a,L.a,gn.a,S.u],null,null)],null,null)},{},{},[]),bl=t(142),vl=t(83),yl=t(131),kl=t(48),jl=t(138),Tl=t(172),Il=t(74),Sl=t(58),Pl=t(146),Rl=t(91),Dl=t(144),ql=t(158),Yl=t(392),Cl=t(143),wl=t(45),Ol=t(139),Zl=t(145),zl=t(179),Ll=S.W(M,[H.b],function(n){return S._10([S._11(512,S.i,S.S,[[8,[V.a,$.a,G.a,K.a,J.a,W.a,Q.a,X.a,nn.a,mn,$n,Kn,tl,_l]],[3,S.i],S.s]),S._11(4608,R.c,R.c,[]),S._11(4608,R.h,R.b,[]),S._11(5120,R.k,R.l,[]),S._11(4608,R.j,R.j,[R.c,R.h,R.k]),S._11(4608,R.g,R.a,[]),S._11(5120,R.e,R.m,[R.j,R.g]),S._11(5120,S.r,S._9,[[3,S.r]]),S._11(4608,_n.l,_n.k,[S.r,[2,_n.t]]),S._11(5120,S.b,S._0,[]),S._11(5120,S.p,S._6,[]),S._11(5120,S.q,S._7,[]),S._11(4608,I.c,I.q,[_n.d]),S._11(6144,S.D,null,[I.c]),S._11(4608,I.f,bl.a,[]),S._11(5120,I.d,function(n,l,t,e,i){return[new I.k(n,l),new I.o(t),new I.n(e,i)]},[_n.d,S.u,_n.d,_n.d,I.f]),S._11(4608,I.e,I.e,[I.d,S.u]),S._11(135680,I.m,I.m,[_n.d]),S._11(4608,I.l,I.l,[I.e,I.m]),S._11(6144,S.B,null,[I.l]),S._11(6144,I.p,null,[I.m]),S._11(4608,S.G,S.G,[S.u]),S._11(4608,I.h,I.h,[_n.d]),S._11(4608,I.i,I.i,[_n.d]),S._11(4608,gl.q,gl.q,[]),S._11(4608,gl.d,gl.d,[]),S._11(4608,vl.a,vl.a,[]),S._11(5120,Mn.a,Mn.c,[Mn.b]),S._11(4608,yl.a,yl.a,[un.a,rn.a]),S._11(4608,Hn.a,Hn.a,[un.a,rn.a]),S._11(4608,gn.a,gn.a,[]),S._11(4608,Rn.a,Rn.a,[]),S._11(4608,kl.a,kl.a,[an.a]),S._11(4608,Un.a,Un.a,[rn.a,an.a,S.u,pn.a]),S._11(4608,jl.a,jl.a,[un.a,rn.a]),S._11(5120,_n.g,Tl.c,[_n.r,[2,_n.a],rn.a]),S._11(4608,_n.f,_n.f,[_n.g]),S._11(5120,Il.b,Il.d,[un.a,Il.a]),S._11(5120,dn.a,dn.b,[un.a,Il.b,_n.f,Sl.b,S.i]),S._11(4608,Pl.a,Pl.a,[un.a,rn.a,dn.a]),S._11(4608,Rl.a,Rl.a,[un.a,rn.a]),S._11(4608,Bn.a,Bn.a,[un.a,rn.a,dn.a]),S._11(4608,Dl.a,Dl.a,[rn.a,an.a,pn.a,un.a,cn.l]),S._11(4608,ql.a,ql.a,[un.a,rn.a]),S._11(4608,hn.a,hn.a,[an.a,rn.a]),S._11(4608,q.a,q.a,[]),S._11(4608,D.a,D.a,[]),S._11(4608,x.a,x.a,[]),S._11(4608,w.a,w.a,[Mn.a,an.a,R.e,gn.a]),S._11(4608,Z.a,Z.a,[Mn.a,w.a,gn.a]),S._11(4608,E.a,E.a,[]),S._11(4608,U.a,U.a,[Hn.a,jl.a,ql.a]),S._11(4608,P.a,P.a,[an.a,R.e,S.u,Mn.a,gn.a,Z.a]),S._11(4608,O.a,O.a,[an.a,x.a,E.a,gn.a,Mn.a,S.u,U.a,P.a]),S._11(4608,L.a,L.a,[gn.a,Z.a,w.a]),S._11(512,R.f,R.f,[]),S._11(512,_n.c,_n.c,[]),S._11(512,S.k,Yl.a,[]),S._11(256,rn.b,{preloadModules:!0},[]),S._11(1024,Cl.a,Cl.b,[]),S._11(1024,an.a,an.b,[I.b,Cl.a,S.u]),S._11(1024,rn.a,rn.c,[rn.b,an.a]),S._11(512,pn.a,pn.a,[an.a]),S._11(512,wl.a,wl.a,[]),S._11(512,un.a,un.a,[rn.a,an.a,[2,wl.a]]),S._11(512,cn.l,cn.l,[un.a]),S._11(256,Il.a,{links:[{loadChildren:"../pages/device/device.module.ngfactory#HomePageModuleNgFactory",name:"DevicePage",segment:"device/:id",priority:"low",defaultHistory:[]},{loadChildren:"../pages/login/login.module.ngfactory#LoginPageModuleNgFactory",name:"LoginPage",segment:"login",priority:"low",defaultHistory:[]},{loadChildren:"../pages/settings/settings.module.ngfactory#SettingsPageModuleNgFactory",name:"SettingsPage",segment:"settings",priority:"low",defaultHistory:["HomePage"]}]},[]),S._11(512,S.h,S.h,[]),S._11(512,Ol.a,Ol.a,[S.h]),S._11(1024,Sl.b,Sl.c,[Ol.a,S.o]),S._11(1024,S.c,function(n,l,t,e,i,o,s,u,r,a,c,h,d){return[I.s(n),Zl.a(l),gn.b(t,e),Dl.b(i,o,s,u,r),Sl.d(a,c,h,d)]},[[2,S.t],rn.a,an.a,pn.a,rn.a,an.a,pn.a,un.a,cn.l,rn.a,Il.a,Sl.b,S.u]),S._11(512,S.d,S.d,[[2,S.c]]),S._11(131584,S.f,S.f,[S.u,S.T,S.o,S.k,S.i,S.d]),S._11(512,S.e,S.e,[S.f]),S._11(512,I.a,I.a,[[3,I.a]]),S._11(512,gl.o,gl.o,[]),S._11(512,gl.g,gl.g,[]),S._11(512,gl.m,gl.m,[]),S._11(512,Tl.a,Tl.a,[]),S._11(512,zl.a,zl.a,[]),S._11(512,Y.a,Y.a,[]),S._11(512,M,M,[]),S._11(256,Mn.b,null,[]),S._11(256,H.a,N,[]),S._11(256,_n.a,"/",[])])});Object(S.M)(),Object(I.j)().bootstrapModuleFactory(Ll)},443:function(n,l,t){function e(n){return t(i(n))}function i(n){var l=o[n];if(!(l+1))throw new Error("Cannot find module '"+n+"'.");return l}var o={"./af":217,"./af.js":217,"./ar":218,"./ar-dz":219,"./ar-dz.js":219,"./ar-kw":220,"./ar-kw.js":220,"./ar-ly":221,"./ar-ly.js":221,"./ar-ma":222,"./ar-ma.js":222,"./ar-sa":223,"./ar-sa.js":223,"./ar-tn":224,"./ar-tn.js":224,"./ar.js":218,"./az":225,"./az.js":225,"./be":226,"./be.js":226,"./bg":227,"./bg.js":227,"./bm":228,"./bm.js":228,"./bn":229,"./bn.js":229,"./bo":230,"./bo.js":230,"./br":231,"./br.js":231,"./bs":232,"./bs.js":232,"./ca":233,"./ca.js":233,"./cs":234,"./cs.js":234,"./cv":235,"./cv.js":235,"./cy":236,"./cy.js":236,"./da":237,"./da.js":237,"./de":238,"./de-at":239,"./de-at.js":239,"./de-ch":240,"./de-ch.js":240,"./de.js":238,"./dv":241,"./dv.js":241,"./el":242,"./el.js":242,"./en-au":243,"./en-au.js":243,"./en-ca":244,"./en-ca.js":244,"./en-gb":245,"./en-gb.js":245,"./en-ie":246,"./en-ie.js":246,"./en-nz":247,"./en-nz.js":247,"./eo":248,"./eo.js":248,"./es":249,"./es-do":250,"./es-do.js":250,"./es-us":251,"./es-us.js":251,"./es.js":249,"./et":252,"./et.js":252,"./eu":253,"./eu.js":253,"./fa":254,"./fa.js":254,"./fi":255,"./fi.js":255,"./fo":256,"./fo.js":256,"./fr":257,"./fr-ca":258,"./fr-ca.js":258,"./fr-ch":259,"./fr-ch.js":259,"./fr.js":257,"./fy":260,"./fy.js":260,"./gd":261,"./gd.js":261,"./gl":262,"./gl.js":262,"./gom-latn":263,"./gom-latn.js":263,"./gu":264,"./gu.js":264,"./he":265,"./he.js":265,"./hi":266,"./hi.js":266,"./hr":267,"./hr.js":267,"./hu":268,"./hu.js":268,"./hy-am":269,"./hy-am.js":269,"./id":270,"./id.js":270,"./is":271,"./is.js":271,"./it":272,"./it.js":272,"./ja":273,"./ja.js":273,"./jv":274,"./jv.js":274,"./ka":275,"./ka.js":275,"./kk":276,"./kk.js":276,"./km":277,"./km.js":277,"./kn":278,"./kn.js":278,"./ko":279,"./ko.js":279,"./ky":280,"./ky.js":280,"./lb":281,"./lb.js":281,"./lo":282,"./lo.js":282,"./lt":283,"./lt.js":283,"./lv":284,"./lv.js":284,"./me":285,"./me.js":285,"./mi":286,"./mi.js":286,"./mk":287,"./mk.js":287,"./ml":288,"./ml.js":288,"./mr":289,"./mr.js":289,"./ms":290,"./ms-my":291,"./ms-my.js":291,"./ms.js":290,"./mt":292,"./mt.js":292,"./my":293,"./my.js":293,"./nb":294,"./nb.js":294,"./ne":295,"./ne.js":295,"./nl":296,"./nl-be":297,"./nl-be.js":297,"./nl.js":296,"./nn":298,"./nn.js":298,"./pa-in":299,"./pa-in.js":299,"./pl":300,"./pl.js":300,"./pt":301,"./pt-br":302,"./pt-br.js":302,"./pt.js":301,"./ro":303,"./ro.js":303,"./ru":304,"./ru.js":304,"./sd":305,"./sd.js":305,"./se":306,"./se.js":306,"./si":307,"./si.js":307,"./sk":308,"./sk.js":308,"./sl":309,"./sl.js":309,"./sq":310,"./sq.js":310,"./sr":311,"./sr-cyrl":312,"./sr-cyrl.js":312,"./sr.js":311,"./ss":313,"./ss.js":313,"./sv":314,"./sv.js":314,"./sw":315,"./sw.js":315,"./ta":316,"./ta.js":316,"./te":317,"./te.js":317,"./tet":318,"./tet.js":318,"./th":319,"./th.js":319,"./tl-ph":320,"./tl-ph.js":320,"./tlh":321,"./tlh.js":321,"./tr":322,"./tr.js":322,"./tzl":323,"./tzl.js":323,"./tzm":324,"./tzm-latn":325,"./tzm-latn.js":325,"./tzm.js":324,"./uk":326,"./uk.js":326,"./ur":327,"./ur.js":327,"./uz":328,"./uz-latn":329,"./uz-latn.js":329,"./uz.js":328,"./vi":330,"./vi.js":330,"./x-pseudo":331,"./x-pseudo.js":331,"./yo":332,"./yo.js":332,"./zh-cn":333,"./zh-cn.js":333,"./zh-hk":334,"./zh-hk.js":334,"./zh-tw":335,"./zh-tw.js":335};e.keys=function(){return Object.keys(o)},e.resolve=i,n.exports=e,e.id=443},67:function(n,l,t){"use strict";t.d(l,"a",function(){return o});t(5),t(79),t(20),t(163),t(164);var e=t(13),i=(t.n(e),t(54),t(70),t(456)),o=(t.n(i),function(){function n(n,l,t,i,o,s,u,r){var a=this;this.platform=n,this.device=l,this.push=t,this.events=i,this.storage=o,this.zone=s,this.alertService=u,this.api=r,this.pushOptions={android:{senderID:"620756868871",forceShow:"true"},ios:{senderID:"620756868871",gcmSandbox:!0,alert:!0,badge:!0,sound:!0,clearBadge:!0},windows:{}},this.notifications=[],this.isDeviceRegistered=!1,this.registerSchedulerInterval=1e4,this.isLoggedIn=!1,this.subscription=e.Observable.create(function(n){a.observer=n}),this.registerFunc=function(){console.log("[PUSH] Running scheduler..."),a.isLoggedIn&&a.isDeviceRegistered?a.registerDevice().then(function(n){n?(console.log("[PUSH] Successfully registered device!"),a.stopScheduler()):a.restartScheduler()}).catch(function(n){a.restartScheduler()}):a.restartScheduler()},n.ready().then(function(){if(a.platform.is("mobile"))a.device_uuid=a.device.uuid,console.log("[PUSH] Device uuid:",a.device_uuid);else{var n=window.navigator,l=window.screen,t=n.mimeTypes.length;t+=n.userAgent.replace(/\D+/g,""),t+=n.plugins.length,t+=l.height||"",t+=l.width||"",a.device_uuid=t+=l.pixelDepth||"",a._desktopReadyPromise=new Promise(function(n){a._desktopResolve=n}),a.triggerReady()}}),i.subscribe("user:login",function(){a.isLoggedIn=!0}),i.subscribe("user:logout",function(){console.log("user logout"),a.isLoggedIn=!1,a.triggerScheduler()}),this.triggerScheduler()}return n.prototype.isInitialised=function(){return this.isDeviceRegistered},n.prototype.isWiFiRequired=function(){return!1},n.prototype.isCordovaRequired=function(){return!0},n.prototype.isLoggedInRequired=function(){return!1},n.prototype.name=function(){return"PushService"},n.prototype.triggerScheduler=function(){this.platform.is("mobile")&&(console.log("[PUSH] Trigger scheduler..."),this.registerFunc())},n.prototype.restartScheduler=function(){this.registerScheduler=setTimeout(this.registerFunc.bind(this),this.registerSchedulerInterval)},n.prototype.stopScheduler=function(){clearTimeout(this.registerScheduler)},n.prototype.init=function(){var n=this;console.log("[PUSH] Starting Push Service"),Promise.all([this.storage.get("notifications"),this.initNotificationsCounter()]).then(function(l){l[0]?n.notifications=l[0]:(n.notifications=[],n.updateStorage()),console.log("[PUSH] Push notifications list: ",n.notifications),n.pushObject=n.push.init(n.pushOptions),n.pushObject.on("notification").subscribe(function(l){var t=function(){console.log("[PUSH] Received a notification",JSON.stringify(l)),n.zone.run(function(){n.addNotification(l)})};n.platform.is("ios")?n.pushObject.finish().then(function(){t()}):n.platform.is("android")&&t()}),n.pushObject.on("registration").subscribe(function(l){console.log("[PUSH] Device registered "+JSON.stringify(l)),n.registerId=l.registrationId,n.isDeviceRegistered=!0}),n.pushObject.on("error").subscribe(function(l){console.error("[PUSH] Error with Push plugin",l),n.isDeviceRegistered=!1})})},n.prototype.updateStorage=function(){return this.storage.set("notifications",this.notifications)},n.prototype.update=function(){var n=this;this.storage.get("notifications").then(function(l){n.notifications=l||[]})},n.prototype.addNotification=function(n){var l=this;-1==this.notifications.map(function(n){return n.additionalData.notId}).indexOf(n.additionalData.notId)&&n.additionalData.jobId&&(this.notifications.push(n),this.updateStorage().then(function(){l.observer.next(!0)}))},n.prototype.removeNotification=function(n){var l=this,t=!1,e=this.notifications.filter(function(l){return l.additionalData.jobId==n&&(t=!0),l.additionalData.jobId!=n});t&&(this.notifications=e,this.updateStorage().then(function(){l.observer.next(!1)}))},n.prototype.getAmount=function(){return this.notifications.length},n.prototype.registerDevice=function(){var n=this;return new Promise(function(l,t){if(n.platform.is("mobile")){!function(){var t=n.platform.is("ios")?"ios":"android";n.api.registerDevice({deviceId:n.device_uuid,deviceToken:n.registerId,deviceType:t}).subscribe(function(t){console.log("[PUSH] Got response from server",t),t.success?(console.log("[PUSH] Push registration successful!"),n.storage.set("fcm_token",n.registerId).then(function(){return l(!0)})):(console.log("[PUSH] Push registration failed!"),l(!1))})}()}else l(!0)})},n.prototype.unregisterDevice=function(){var n=this;return new Promise(function(l,t){n.platform.is("mobile")?n.api.unregisterDevice({deviceId:n.device_uuid}).subscribe(function(n){console.log("[PUSH] Push unregister response: ",n),l(n.success)},function(n){console.log("[PUSH] Push unregister failed!",n),l(!1)}):l(!0)})},n.prototype.unregisterPushService=function(){},n.prototype.initNotificationsCounter=function(){var n=this;return new Promise(function(l,t){n.platform.is("mobile")?n.getLocalNotificationsCounter().then(function(t){t?l():n.setLocalNotificationsCounter(0).then(function(){l()})}):l()})},n.prototype.setLocalNotificationsCounter=function(n){return this.storage.set("localCounter",n)},n.prototype.getLocalNotificationsCounter=function(){return this.storage.get("localCounter")},n.prototype.resetUI=function(){var n=this;this.messaging.getToken().then(function(l){l?n.sendTokenToServer(l):(console.log("No Instance ID token available. Request permission to generate one."),n.setTokenSentToServer(!1))}).catch(function(l){console.log("An error occurred while retrieving token. ",l),n.setTokenSentToServer(!1)})},n.prototype.initDesktop=function(){var n=this;navigator.serviceWorker.register("service-worker.js").then(function(l){n.messaging=i.messaging(),n.messaging.useServiceWorker(l),n.messaging.onTokenRefresh(function(){n.messaging.getToken().then(function(l){n.setTokenSentToServer(!1),n.sendTokenToServer(l),n.resetUI()})}),n.messaging.onMessage(function(n){console.log(n)}),n.resetUI(),n.isDeviceRegistered=!0,n.events.publish("desktopPush:ready")})},n.prototype.onDesktopReady=function(){return this._desktopReadyPromise},n.prototype.triggerReady=function(){var n=this;this.isDeviceRegistered?this._desktopResolve():this.events.subscribe("desktopPush:ready",function(){n._desktopResolve()})},n.prototype.isTokenSentToServer=function(){return 1==window.localStorage.getItem("sentToServer")},n.prototype.setTokenSentToServer=function(n){window.localStorage.setItem("sentToServer",n?1:0)},n.prototype.isPermissionGranted=function(){return 1==window.localStorage.getItem("gcm_desktop_notifcation")},n.prototype.setPermissionGranted=function(n){window.localStorage.setItem("gcm_desktop_notification",n?1:0)},n.prototype.requestPermission=function(){var n=this;this.messaging.requestPermission().then(function(){console.log("[PUSH] Desktop notification permission granted."),n.setPermissionGranted(!0),n.resetUI()}).catch(function(l){console.log("[PUSH] Unable to get desktop permission to notify.",l),n.setPermissionGranted(!1)})},n.prototype.deleteToken=function(){var n=this;this.messaging.getToken().then(function(l){n.messaging.deleteToken(l).then(function(){console.log("Token deleted."),n.setTokenSentToServer(!1),n.resetUI()}).catch(function(n){console.log("Unable to delete token. ",n)})})},n.prototype.sendTokenToServer=function(n){this.isTokenSentToServer()?console.log("[PUSH] Token already sent to server so won't send it again unless it changes"):(this.setTokenSentToServer(!0),this.api.registerDevice({deviceId:this.device_uuid,deviceToken:n,deviceType:"browser"}).subscribe(function(n){console.log("[PUSH] Got response from server",n),n.success?console.log("[PUSH] Desktop Push registration successful!"):console.log("[PUSH] Desktop Push registration failed!")}))},n}())},70:function(n,l,t){"use strict";t.d(l,"a",function(){return c});t(5);var e=t(71),i=(t(20),t(13)),o=(t.n(i),t(515)),s=(t.n(o),t(518)),u=(t.n(s),t(522)),r=(t.n(u),t(359)),a=(t.n(r),t(54),t(394)),c=(t(39),function(){function n(n,l,t,e,i,o){this.platform=n,this.http=l,this.zone=t,this.storage=e,this.events=i,this.auth=o,this.connect_timeout=25e3,this.retry=1,this.username="",this.password="";var s=new a.a;this.host=s.host,this.endpoint=s.endpoint}return n.prototype.getControllers=function(){return this.getRequest("getRegisteredControllers")},n.prototype.addController=function(n){return this.postRequest("addController",n,!0)},n.prototype.registerDevice=function(n){return this.postRequest("addDeviceId",n,!0)},n.prototype.unregisterDevice=function(n){return this.postRequest("removeDeviceId",n,!0)},n.prototype.getRequest=function(n,l){var t=this;return i.Observable.create(function(i){!function(){var o=t.endpoint+"/"+n;console.log("[API] Get request endpoint",o);var s=new e.d({Authorization:"Basic "+t.auth.token}),u=new e.g({headers:s,search:l?t.json2url(l):null});console.log("[API] Get request params",u.search?u.search.toString():"none"),t.http.get(o,u).timeout(t.connect_timeout).retry(t.retry).subscribe(function(n){var l=n.json();console.log("[API] Get request response",l),i.next(l),i.complete()},function(n){if(console.log("[API] Get request error",n.status,n),401==n.status);else if(404==n.status)i.next({success:!1,message:a.b.NOT_FOUND,result:null}),i.complete();else if(500==n.status){var l="";l=t.isOnline()?a.b.SERVER_ERR:a.b.OFFLINE_MESSAGE,i.next({success:!1,message:l,result:null}),i.complete()}else i.next({success:!1,message:n.message,result:null}),i.complete()},function(){console.log("[API] Get request completed")})}()})},n.prototype.postRequest=function(n,l,t,o){var s=this;return i.Observable.create(function(i){!function(){var u=s.endpoint+"/"+n;console.log("[API] Post request endpoint",u);var r=new e.d({Authorization:t?"Basic "+s.auth.token:null,"Content-Type":o?"application/json":"application/x-www-form-urlencoded"}),c=new e.g({headers:r}),h=o?l:s.json2url(l).toString();console.log("[API] Post request params",h),s.http.post(u,h,c).timeout(s.connect_timeout).retry(s.retry).subscribe(function(n){var l=n.json();console.log("[API] Post request response",l),i.next(l),i.complete()},function(n){if(console.log("[API] Post request error",n.status,n),401==n.status);else if(404==n.status)i.next({success:!1,message:a.b.NOT_FOUND,result:null}),i.complete();else if(500==n.status){var l="";l=s.isOnline()?a.b.SERVER_ERR:a.b.OFFLINE_MESSAGE,i.next({success:!1,message:l,result:null}),i.complete()}else i.next({success:!1,message:n.message,result:null}),i.complete()},function(){console.log("[API] Post request completed")})}()})},n.prototype.json2url=function(n){var l=new e.i;for(var t in n)n.hasOwnProperty(t)&&l.append(t,n[t]);return l},n.prototype.isOnline=function(){return this.platform.is("cordova")?navigator.connection.type!==Connection.NONE:navigator.onLine},n}())},79:function(n,l,t){"use strict";t.d(l,"a",function(){return i});t(5),t(20);var e=t(359),i=(t.n(e),function(){function n(n,l,t){this.alertCtrl=n,this.loadingCtrl=l,this.toastCtrl=t}return n.prototype.dismissAll=function(){this.dismissAlert(),this.dismissToast()},n.prototype.showAlert=function(n,l,t,e,i,o){var s=this;this.dismissAlert();this.alert=this.alertCtrl.create({title:n,message:l,buttons:t||[{text:"OK",handler:function(){}}],inputs:e||[],mode:i||null}),o&&(this.alertCallback=o),this.alert.onDidDismiss(function(){s.alert=null,s.alertCallback&&(s.alertCallback(),s.alertCallback=null)}),this.alert.present()},n.prototype.dismissAlert=function(){this.alert&&this.alert.dismiss()},n.prototype.showToast=function(n,l,t){var e=this;this.dismissToast(),this.toast=this.toastCtrl.create({message:n,duration:l,showCloseButton:t,position:"bottom",closeButtonText:"Close"}),this.toast.onDidDismiss(function(){e.toast=null}),this.toast.present()},n.prototype.dismissToast=function(){this.toast&&this.toast.dismiss()},n.prototype.showLoading=function(n,l){var t=this;n&&(this.loadingCallback=n),this.loading||(this.loading=this.loadingCtrl.create({cssClass:"loginLoading",content:l||null}),this.loading.onDidDismiss(function(n){t.loading=null,t.loadingCallback&&(null!=n?t.loadingCallback(n):t.loadingCallback()),t.loadingCallback=null}),this.loading.present(),this.loadingTimeout=setTimeout(function(){t.loading&&(t.loadingCallback=function(){t.showToast("Not responding",3e3,!0)},t.dismissLoading(),t.loadingTimeout=null)},3e4))},n.prototype.dismissLoading=function(n){this.loading&&(this.loadingTimeout&&(clearTimeout(this.loadingTimeout),this.loadingTimeout=null),null!=n?this.loading.dismiss(n):this.loading.dismiss())},n}())}},[410]);